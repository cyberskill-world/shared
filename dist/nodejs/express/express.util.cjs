"use strict";function e(e,r){if(r==null||r>e.length)r=e.length;for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function r(r){if(Array.isArray(r))return e(r)}function t(e,r,t,n,o,u,a){try{var i=e[u](a);var c=i.value}catch(e){t(e);return}if(i.done){r(c)}else{Promise.resolve(c).then(n,o)}}function n(e){return function(){var r=this,n=arguments;return new Promise(function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,c,"next",e)}function c(e){t(a,o,u,i,c,"throw",e)}i(undefined)})}}function o(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function u(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};var n=Object.keys(t);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))}n.forEach(function(r){o(e,r,t[r])})}return e}function c(e,r){if(e==null)return{};var t=s(e,r);var n,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++){n=u[o];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}function s(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var o,u;for(u=0;u<n.length;u++){o=n[u];if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}function l(e){return r(e)||u(e)||p(e)||a()}function f(e){"@swc/helpers - typeof";return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}function p(r,t){if(!r)return;if(typeof r==="string")return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor)n=r.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(r,t)}function d(e,r){var t,n,o,u={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return a.next=i(0),a["throw"]=i(1),a["return"]=i(2),typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(e){return function(r){return c([e,r])}}function c(i){if(t)throw new TypeError("Generator is already executing.");while(a&&(a=0,i[0]&&(u=0)),u)try{if(t=1,n&&(o=i[0]&2?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;if(n=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:u.label++;return{value:i[1],done:false};case 5:u.label++;n=i[1];i=[0];continue;case 7:i=u.ops.pop();u.trys.pop();continue;default:if(!(o=u.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){u=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(i[0]===6&&u.label<o[1]){u.label=o[1];o=i;break}if(o&&u.label<o[2]){u.label=o[2];u.ops.push(i);break}if(o[2])u.ops.pop();u.trys.pop();continue}i=r.call(e,u)}catch(e){i=[6,e];n=0}finally{t=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}}var y=Object.create;var b=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var w=function(e,r){return b(e,"name",{value:r,configurable:!0})};var g=function(e,r){for(var t in r)b(e,t,{get:r[t],enumerable:!0})},x=function(e,r,t,n){var o=true,u=false,a=undefined;if(r&&(typeof r==="undefined"?"undefined":f(r))=="object"||typeof r=="function")try{var i=function(){var o=s.value;!h.call(e,o)&&o!==t&&b(e,o,{get:function(){return r[o]},enumerable:!(n=v(r,o))||n.enumerable})};for(var c=m(r)[Symbol.iterator](),s;!(o=(s=c.next()).done);o=true)i()}catch(e){u=true;a=e}finally{try{if(!o&&c.return!=null){c.return()}}finally{if(u){throw a}}}return e};var j=function(e,r,t){return t=e!=null?y(O(e)):{},x(r||!e||!e.__esModule?b(t,"default",{value:e,enumerable:!0}):t,e)},S=function(e){return x(b({},"__esModule",{value:!0}),e)};var P={};g(P,{bodyParser:function(){return E.default},createCors:function(){return D},createCorsOptions:function(){return F},createExpress:function(){return M},createNest:function(){return L},createSession:function(){return G},express:function(){return k.default}});module.exports=S(P);var C=require("@nestjs/core"),E=j(require("body-parser"),1),q=j(require("compression"),1),A=j(require("cookie-parser"),1),_=j(require("cors"),1),k=j(require("express"),1),I=j(require("express-device"),1),N=j(require("express-session"),1);function F(e){var r=e.isDev,t=e.whiteList,n=c(e,["isDev","whiteList"]);return i({origin:w(function(e,n){r||(t===null||t===void 0?void 0:t.includes(e!==null&&e!==void 0?e:""))?n(null,!0):n(new Error("Not allowed by CORS"),!1)},"origin"),credentials:!0},n)}w(F,"createCorsOptions");function D(e){return(0,_.default)(F(e))}w(D,"createCors");function G(e){return(0,N.default)(e)}w(G,"createSession");function M(e){var r=(0,k.default)();return r.set("trust proxy",1),r.use((0,A.default)()),r.use(k.default.urlencoded({extended:!0})),r.use((0,q.default)()),r.use(I.default.capture()),(e===null||e===void 0?void 0:e.staticFolder)&&r.use(k.default.static(e.staticFolder)),r}w(M,"createExpress");function L(e){return /*#__PURE__*/n(function(){var r,t,n;return d(this,function(o){switch(o.label){case 0:return[4,C.NestFactory.create(e.module)];case 1:n=o.sent();return[2,(n.getHttpAdapter().getInstance().set("trust proxy",1),n.use(k.default.urlencoded({extended:!0})),n.use((0,A.default)()),n.use((0,q.default)()),n.use(I.default.capture()),e.staticFolder&&n.use(k.default.static(e.staticFolder)),e.filters&&(r=n).useGlobalFilters.apply(r,l(e.filters)),e.pipes&&(t=n).useGlobalPipes.apply(t,l(e.pipes)),n)]}})})()}w(L,"createNest");0&&(module.exports={bodyParser:bodyParser,createCors:createCors,createCorsOptions:createCorsOptions,createExpress:createExpress,createNest:createNest,createSession:createSession,express:express});