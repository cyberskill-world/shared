"use strict";function e(e,r,t,n,u,o,a){try{var i=e[o](a);var c=i.value}catch(e){t(e);return}if(i.done){r(c)}else{Promise.resolve(c).then(n,u)}}function r(r){return function(){var t=this,n=arguments;return new Promise(function(u,o){var a=r.apply(t,n);function i(r){e(a,u,o,i,c,"next",r)}function c(r){e(a,u,o,i,c,"throw",r)}i(undefined)})}}function t(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function n(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};var u=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){u=u.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))}u.forEach(function(r){t(e,r,n[r])})}return e}function u(e,r){if(e==null)return{};var t=o(e,r);var n,u;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(u=0;u<a.length;u++){n=a[u];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}function o(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var u,o;for(o=0;o<n.length;o++){u=n[o];if(r.indexOf(u)>=0)continue;t[u]=e[u]}return t}function a(e){"@swc/helpers - typeof";return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}function i(e,r){var t,n,u,o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return a.next=i(0),a["throw"]=i(1),a["return"]=i(2),typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(e){return function(r){return c([e,r])}}function c(i){if(t)throw new TypeError("Generator is already executing.");while(a&&(a=0,i[0]&&(o=0)),o)try{if(t=1,n&&(u=i[0]&2?n["return"]:i[0]?n["throw"]||((u=n["return"])&&u.call(n),0):n.next)&&!(u=u.call(n,i[1])).done)return u;if(n=0,u)i=[i[0]&2,u.value];switch(i[0]){case 0:case 1:u=i;break;case 4:o.label++;return{value:i[1],done:false};case 5:o.label++;n=i[1];i=[0];continue;case 7:i=o.ops.pop();o.trys.pop();continue;default:if(!(u=o.trys,u=u.length>0&&u[u.length-1])&&(i[0]===6||i[0]===2)){o=0;continue}if(i[0]===3&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(i[0]===6&&o.label<u[1]){o.label=u[1];u=i;break}if(u&&o.label<u[2]){o.label=u[2];o.ops.push(i);break}if(u[2])o.ops.pop();o.trys.pop();continue}i=r.call(e,o)}catch(e){i=[6,e];n=0}finally{t=u=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}}var c=Object.create;var s=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var p=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty;var b=function(e,r){return s(e,"name",{value:r,configurable:!0})};var y=function(e,r){for(var t in r)s(e,t,{get:r[t],enumerable:!0})},v=function(e,r,t,n){var u=true,o=false,i=undefined;if(r&&(typeof r==="undefined"?"undefined":a(r))=="object"||typeof r=="function")try{var c=function(){var u=b.value;!d.call(e,u)&&u!==t&&s(e,u,{get:function(){return r[u]},enumerable:!(n=l(r,u))||n.enumerable})};for(var p=f(r)[Symbol.iterator](),b;!(u=(b=p.next()).done);u=true)c()}catch(e){o=true;i=e}finally{try{if(!u&&p.return!=null){p.return()}}finally{if(o){throw i}}}return e};var h=function(e,r,t){return t=e!=null?c(p(e)):{},v(r||!e||!e.__esModule?s(t,"default",{value:e,enumerable:!0}):t,e)},O=function(e){return v(s({},"__esModule",{value:!0}),e)};var w={};y(w,{Router:function(){return m.Router},bodyParser:function(){return g.default},createCors:function(){return k},createExpress:function(){return F},createNest:function(){return R},createSession:function(){return N},express:function(){return E.default}});module.exports=O(w);var m=require("express");var x=require("@nestjs/core"),g=h(require("body-parser"),1),j=h(require("compression"),1),P=h(require("cookie-parser"),1),S=h(require("cors"),1),E=h(require("express"),1),q=h(require("express-device"),1),_=h(require("express-session"),1);function k(e){var r=e.isDev,t=e.whiteList,o=u(e,["isDev","whiteList"]);return(0,S.default)(n({origin:b(function(e,n){r||(t===null||t===void 0?void 0:t.includes(e!==null&&e!==void 0?e:""))?n(null,!0):n(new Error("Not allowed by CORS"),!1)},"origin"),credentials:!0},o))}b(k,"createCors");function N(e){return(0,_.default)(e)}b(N,"createSession");function F(e){var r=(0,E.default)();return r.set("trust proxy",1),r.use((0,P.default)()),r.use(E.default.urlencoded({extended:!0})),r.use((0,j.default)()),r.use(q.default.capture()),(e===null||e===void 0?void 0:e.staticFolder)&&r.use(E.default.static(e.staticFolder)),r}b(F,"createExpress");function R(e){return /*#__PURE__*/r(function(){var r;return i(this,function(t){switch(t.label){case 0:return[4,x.NestFactory.create(e.module)];case 1:r=t.sent();return[2,(r.getHttpAdapter().getInstance().set("trust proxy",1),r.use(E.default.urlencoded({extended:!0})),r.use((0,P.default)()),r.use((0,j.default)()),r.use(q.default.capture()),e.staticFolder&&r.use(E.default.static(e.staticFolder)),e.filters&&e.filters.forEach(function(e){r.useGlobalFilters(e)}),e.pipes&&e.pipes.forEach(function(e){r.useGlobalPipes(e)}),r)]}})})()}b(R,"createNest");0&&(module.exports={Router:Router,bodyParser:bodyParser,createCors:createCors,createExpress:createExpress,createNest:createNest,createSession:createSession,express:express});