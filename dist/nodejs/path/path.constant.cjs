"use strict";function t(t,n){if(n==null||n>t.length)n=t.length;for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function n(t){if(Array.isArray(t))return t}function e(n){if(Array.isArray(n))return t(n)}function r(t,n,e){if(n in t){Object.defineProperty(t,n,{value:e,enumerable:true,configurable:true,writable:true})}else{t[n]=e}return t}function o(t){if(typeof Symbol!=="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _(t,n){var e=t==null?null:typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(e==null)return;var r=[];var o=true;var _=false;var c,u;try{for(e=e.call(t);!(o=(c=e.next()).done);o=true){r.push(c.value);if(n&&r.length===n)break}}catch(t){_=true;u=t}finally{try{if(!o&&e["return"]!=null)e["return"]()}finally{if(_)throw u}}return r}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};var o=Object.keys(e);if(typeof Object.getOwnPropertySymbols==="function"){o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))}o.forEach(function(n){r(t,n,e[n])})}return t}function E(t,e){return n(t)||_(t,e)||C(t,e)||c()}function i(t){return e(t)||o(t)||C(t)||u()}function I(t){"@swc/helpers - typeof";return t&&typeof Symbol!=="undefined"&&t.constructor===Symbol?"symbol":typeof t}function C(n,e){if(!n)return;if(typeof n==="string")return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor)r=n.constructor.name;if(r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(n,e)}var l=Object.create;var f=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var O=function(t,n){for(var e in n)f(t,e,{get:n[e],enumerable:!0})},S=function(t,n,e,r){var o=true,_=false,c=undefined;if(n&&(typeof n==="undefined"?"undefined":I(n))=="object"||typeof n=="function")try{var u=function(){var o=E.value;!L.call(t,o)&&o!==e&&f(t,o,{get:function(){return n[o]},enumerable:!(r=A(n,o))||r.enumerable})};for(var a=T(n)[Symbol.iterator](),E;!(o=(E=a.next()).done);o=true)u()}catch(t){_=true;c=t}finally{try{if(!o&&a.return!=null){a.return()}}finally{if(_){throw c}}}return t};var s=function(t,n,e){return e=t!=null?l(N(t)):{},S(n||!t||!t.__esModule?f(e,"default",{value:t,enumerable:!0}):e,t)},P=function(t){return S(f({},"__esModule",{value:!0}),t)};var M={};O(M,{BUILD_DIRECTORY:function(){return Q},COMMAND:function(){return tb},COMMIT_LINT_CLI:function(){return tT},COMMIT_LINT_PACKAGE_NAME:function(){return tA},CYBERSKILL_CLI:function(){return ta},CYBERSKILL_CLI_PATH:function(){return tE},CYBERSKILL_DIRECTORY:function(){return tu},CYBERSKILL_PACKAGE_NAME:function(){return V},CYBERSKILL_STORAGE:function(){return $},ESLINT_CLI:function(){return tI},ESLINT_INSPECT_CLI:function(){return tp},ESLINT_INSPECT_PACKAGE_NAME:function(){return tK},ESLINT_PACKAGE_NAME:function(){return ti},GIT_CLI:function(){return tP},GIT_COMMIT_EDITMSG:function(){return tc},GIT_HOOK:function(){return t_},GIT_IGNORE:function(){return te},HOOK:function(){return tg},LINT_STAGED_CLI:function(){return tL},LINT_STAGED_PACKAGE_NAME:function(){return tN},NODE_MODULES:function(){return z},NODE_MODULES_INSPECT_CLI:function(){return tR},NODE_MODULES_INSPECT_PACKAGE_NAME:function(){return tv},PACKAGE_JSON:function(){return Z},PACKAGE_LOCK_JSON:function(){return tt},PATH:function(){return ty},PLAYWRIGHT_PACKAGE_NAME:function(){return tl},PNPM_CLI:function(){return tM},PNPM_EXEC_CLI:function(){return tG},PNPM_LOCK_YAML:function(){return to},SIMPLE_GIT_HOOKS_PACKAGE_NAME:function(){return tD},SIMPLE_GIT_HOOK_CLI:function(){return td},SIMPLE_GIT_HOOK_JSON:function(){return tr},TSCONFIG_JSON:function(){return tn},TSC_CLI:function(){return tS},TSC_PACKAGE_NAME:function(){return tO},TSX_CLI:function(){return ts},VITEST_CLI:function(){return tf},VITEST_PACKAGE_NAME:function(){return tC},WORKING_DIRECTORY:function(){return J}});module.exports=P(M);var G=s(require("process"),1);var D=require("child_process"),d=s(require("process"),1),K=s(require("util"),1);var p=s(require("process"),1),v=p.default.env.DEBUG==="true";var R=s(require("chalk"),1),y=s(require("consola"),1),g=require("graphql");v||(y.default.level=4);function m(t){var n=R.default[t];return typeof n=="function"?n:R.default.green}var b={silent:y.default.silent,level:y.default.level,fatal:y.default.fatal,error:y.default.error,warn:y.default.warn,log:y.default.log,info:y.default.info,success:y.default.success,ready:y.default.ready,start:y.default.start,box:y.default.box,debug:y.default.debug,trace:y.default.trace,verbose:y.default.verbose,printBoxedLog:function t(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"red";if(!(n===null||n===void 0?void 0:n.length)){y.default.box(R.default.green(t));return}n.forEach(function(t){var n=t.file,r=t.position,o=t.rule,_=t.message;y.default.log("".concat(R.default.gray("File:")," ").concat(R.default.blue("".concat(n).concat(r?":".concat(r):"")))),o&&y.default.log("   ".concat(m(e)("Rule:")," ").concat(o)),y.default.log("   ".concat(m(e)("Message:")," ").concat(_))}),y.default.box(m(e)("".concat(t," : ").concat(n.length))),y.default.log(R.default.gray("â”€".repeat(40)))}};var Y=s(require("node-fetch"),1);var h=s(require("fs"),1);function H(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++){n[e]=arguments[e]}return n.every(function(t){return h.existsSync(t)})}var j=s(require("path"),1);function B(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++){n[e]=arguments[e]}var r;return(r=j).resolve.apply(r,[J].concat(i(n)))}function w(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++){n[e]=arguments[e]}var r;return(r=j).join.apply(r,i(n))}var U=s(require("node-persist"),1),X=s(require("os"),1),F=s(require("process"),1);var W=K.promisify(D.exec);function k(t){return{raw:!0,cmd:t}}function q(t,n){return(n===null||n===void 0?void 0:n.isRemote)?"".concat(tG," ").concat(V," ").concat(t):(n===null||n===void 0?void 0:n.isCurrentProject)?"".concat(tG," ").concat(ts," ").concat(tE," ").concat(t):"".concat(tG," ").concat(ta," ").concat(t)}function x(t,n){return typeof t=="function"?q(t(n),n):(typeof t==="undefined"?"undefined":I(t))=="object"&&(t===null||t===void 0?void 0:t.raw)===!0?t.cmd:typeof t=="string"?q(t,n):t}var J=G.default.env.INIT_CWD||G.default.cwd(),V="@cyberskill/shared",$=".cyberskill-storage",z="node_modules",Q="dist",Z="package.json",tt="package-lock.json",tn="tsconfig.json",te=".gitignore",tr=".simple-git-hooks.json",to="pnpm-lock.yaml",t_=".git/hooks/",tc=".git/COMMIT_EDITMSG",tu=w(J,z,V,Q),ta="cyberskill",tE="src/nodejs/cli/index.ts",ti="eslint",tI="eslint",tC="vitest",tl="playwright",tf="vitest",tA="@commitlint/cli",tT="commitlint",tN="lint-staged",tL="lint-staged",tO="typescript",tS="tsc",ts="tsx",tP="git",tM="pnpm",tG="pnpm exec",tD="simple-git-hooks",td="simple-git-hooks",tK="@eslint/config-inspector",tp="eslint-config-inspector",tv="node-modules-inspector",tR="node-modules-inspector",ty={CYBERSKILL_DIRECTORY:tu,WORKING_DIRECTORY:J,TS_CONFIG:B(tn),GIT_IGNORE:B(te),GIT_HOOK:B(t_),GIT_COMMIT_MSG:B(tc),SIMPLE_GIT_HOOKS_JSON:B(tr),PACKAGE_JSON:B(Z),PACKAGE_LOCK_JSON:B(tt),PNPM_LOCK_YAML:B(to),NODE_MODULES:B(z),CYBERSKILL:{LINT_STAGED_CONFIG:B("".concat(tu,"/configs/lint-staged/base.js")),COMMITLINT_CONFIG:B("".concat(tu,"/configs/commitlint/base.js")),UNIT_TEST_CONFIG:B("".concat(tu,"/react/vitest/vitest.unit.js")),UNIT_TEST_SETUP_CONFIG:B("".concat(tu,"/react/vitest/vitest.unit.setup.js")),E2E_TEST_CONFIG:B("".concat(tu,"/react/vitest/vitest.e2e.js"))}};function tg(t){var n=t.isCurrentProject;return a({"pre-commit":tL,"commit-msg":tT},n&&{"pre-push":k("".concat(tP," pull"))})}function tm(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++){e[r-1]=arguments[r]}var o=E(e,2),_=o[0],c=o[1],u=t==="RAW"?!0:H.apply(void 0,i(_.split(" ").map(function(t){return w(ty.NODE_MODULES,t)})));switch(t){case"PNPM_ADD_AND_EXEC":return x(k("".concat(u?"":"".concat(tM," add ").concat(_," && ")).concat(tG," ").concat(c)));case"PNPM_ADD_DEV_AND_EXEC":return x(k("".concat(u?"":"".concat(tM," add -D ").concat(_," && ")).concat(tG," ").concat(c)));case"RAW":return x(k(_))}}var tb={SIMPLE_GIT_HOOKS:tm("PNPM_ADD_DEV_AND_EXEC",tD,td),ESLINT_INSPECT:tm("PNPM_ADD_DEV_AND_EXEC",tK,tp),NODE_MODULES_INSPECT:tm("PNPM_ADD_DEV_AND_EXEC",tv,tR),ESLINT_CHECK:tm("PNPM_ADD_DEV_AND_EXEC",ti,"".concat(tI," ").concat(ty.WORKING_DIRECTORY)),ESLINT_FIX:tm("PNPM_ADD_DEV_AND_EXEC",ti,"".concat(tI," ").concat(ty.WORKING_DIRECTORY," --fix")),TYPESCRIPT_CHECK:tm("PNPM_ADD_AND_EXEC",tO,"".concat(tS," -p ").concat(ty.TS_CONFIG," --noEmit")),CONFIGURE_GIT_HOOK:tm("RAW","".concat(tP," config core.hooksPath ").concat(ty.GIT_HOOK)),BUILD:tm("RAW","".concat(tM," run build")),STAGE_BUILD_DIRECTORY:tm("RAW","".concat(tP," add ").concat(Q)),PNPM_INSTALL_STANDARD:tm("RAW","".concat(tM," install")),PNPM_INSTALL_LEGACY:tm("RAW","".concat(tM," install --legacy-peer-deps")),PNPM_INSTALL_FORCE:tm("RAW","".concat(tM," install --force")),CYBERSKILL:{TEST_UNIT:tm("PNPM_ADD_AND_EXEC",tC,"".concat(tf," --config ").concat(ty.CYBERSKILL.UNIT_TEST_CONFIG)),TEST_E2E:tm("PNPM_ADD_AND_EXEC","".concat(tC," ").concat(tl),"".concat(tf," --config ").concat(ty.CYBERSKILL.E2E_TEST_CONFIG)),COMMIT_LINT:tm("PNPM_ADD_DEV_AND_EXEC",tA,"".concat(tT," --edit ").concat(ty.GIT_COMMIT_MSG," --config ").concat(ty.CYBERSKILL.COMMITLINT_CONFIG)),LINT_STAGED:tm("PNPM_ADD_DEV_AND_EXEC",tN,"".concat(tL," --config ").concat(ty.CYBERSKILL.LINT_STAGED_CONFIG))}};0&&(module.exports={BUILD_DIRECTORY:BUILD_DIRECTORY,COMMAND:COMMAND,COMMIT_LINT_CLI:COMMIT_LINT_CLI,COMMIT_LINT_PACKAGE_NAME:COMMIT_LINT_PACKAGE_NAME,CYBERSKILL_CLI:CYBERSKILL_CLI,CYBERSKILL_CLI_PATH:CYBERSKILL_CLI_PATH,CYBERSKILL_DIRECTORY:CYBERSKILL_DIRECTORY,CYBERSKILL_PACKAGE_NAME:CYBERSKILL_PACKAGE_NAME,CYBERSKILL_STORAGE:CYBERSKILL_STORAGE,ESLINT_CLI:ESLINT_CLI,ESLINT_INSPECT_CLI:ESLINT_INSPECT_CLI,ESLINT_INSPECT_PACKAGE_NAME:ESLINT_INSPECT_PACKAGE_NAME,ESLINT_PACKAGE_NAME:ESLINT_PACKAGE_NAME,GIT_CLI:GIT_CLI,GIT_COMMIT_EDITMSG:GIT_COMMIT_EDITMSG,GIT_HOOK:GIT_HOOK,GIT_IGNORE:GIT_IGNORE,HOOK:HOOK,LINT_STAGED_CLI:LINT_STAGED_CLI,LINT_STAGED_PACKAGE_NAME:LINT_STAGED_PACKAGE_NAME,NODE_MODULES:NODE_MODULES,NODE_MODULES_INSPECT_CLI:NODE_MODULES_INSPECT_CLI,NODE_MODULES_INSPECT_PACKAGE_NAME:NODE_MODULES_INSPECT_PACKAGE_NAME,PACKAGE_JSON:PACKAGE_JSON,PACKAGE_LOCK_JSON:PACKAGE_LOCK_JSON,PATH:PATH,PLAYWRIGHT_PACKAGE_NAME:PLAYWRIGHT_PACKAGE_NAME,PNPM_CLI:PNPM_CLI,PNPM_EXEC_CLI:PNPM_EXEC_CLI,PNPM_LOCK_YAML:PNPM_LOCK_YAML,SIMPLE_GIT_HOOKS_PACKAGE_NAME:SIMPLE_GIT_HOOKS_PACKAGE_NAME,SIMPLE_GIT_HOOK_CLI:SIMPLE_GIT_HOOK_CLI,SIMPLE_GIT_HOOK_JSON:SIMPLE_GIT_HOOK_JSON,TSCONFIG_JSON:TSCONFIG_JSON,TSC_CLI:TSC_CLI,TSC_PACKAGE_NAME:TSC_PACKAGE_NAME,TSX_CLI:TSX_CLI,VITEST_CLI:VITEST_CLI,VITEST_PACKAGE_NAME:VITEST_PACKAGE_NAME,WORKING_DIRECTORY:WORKING_DIRECTORY});