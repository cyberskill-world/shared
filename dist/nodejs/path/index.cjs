"use strict";function t(t,n){if(n==null||n>t.length)n=t.length;for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function n(t){if(Array.isArray(t))return t}function e(n){if(Array.isArray(n))return t(n)}function r(t,n,e){if(n in t){Object.defineProperty(t,n,{value:e,enumerable:true,configurable:true,writable:true})}else{t[n]=e}return t}function o(t){if(typeof Symbol!=="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _(t,n){var e=t==null?null:typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(e==null)return;var r=[];var o=true;var _=false;var c,u;try{for(e=e.call(t);!(o=(c=e.next()).done);o=true){r.push(c.value);if(n&&r.length===n)break}}catch(t){_=true;u=t}finally{try{if(!o&&e["return"]!=null)e["return"]()}finally{if(_)throw u}}return r}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};var o=Object.keys(e);if(typeof Object.getOwnPropertySymbols==="function"){o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))}o.forEach(function(n){r(t,n,e[n])})}return t}function i(t,e){return n(t)||_(t,e)||l(t,e)||c()}function E(t){return e(t)||o(t)||l(t)||u()}function I(t){"@swc/helpers - typeof";return t&&typeof Symbol!=="undefined"&&t.constructor===Symbol?"symbol":typeof t}function l(n,e){if(!n)return;if(typeof n==="string")return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor)r=n.constructor.name;if(r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(n,e)}var C=Object.create;var f=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var O=function(t,n){for(var e in n)f(t,e,{get:n[e],enumerable:!0})},S=function(t,n,e,r){var o=true,_=false,c=undefined;if(n&&(typeof n==="undefined"?"undefined":I(n))=="object"||typeof n=="function")try{var u=function(){var o=i.value;!L.call(t,o)&&o!==e&&f(t,o,{get:function(){return n[o]},enumerable:!(r=A(n,o))||r.enumerable})};for(var a=T(n)[Symbol.iterator](),i;!(o=(i=a.next()).done);o=true)u()}catch(t){_=true;c=t}finally{try{if(!o&&a.return!=null){a.return()}}finally{if(_){throw c}}}return t};var s=function(t,n,e){return e=t!=null?C(N(t)):{},S(n||!t||!t.__esModule?f(e,"default",{value:t,enumerable:!0}):e,t)},P=function(t){return S(f({},"__esModule",{value:!0}),t)};var M={};O(M,{BUILD_DIRECTORY:function(){return Z},COMMAND:function(){return th},COMMIT_LINT_CLI:function(){return tN},COMMIT_LINT_PACKAGE_NAME:function(){return tT},CYBERSKILL_CLI:function(){return ti},CYBERSKILL_CLI_PATH:function(){return tE},CYBERSKILL_DIRECTORY:function(){return ta},CYBERSKILL_PACKAGE_NAME:function(){return $},CYBERSKILL_STORAGE:function(){return z},ESLINT_CLI:function(){return tl},ESLINT_INSPECT_CLI:function(){return tp},ESLINT_INSPECT_PACKAGE_NAME:function(){return tv},ESLINT_PACKAGE_NAME:function(){return tI},GIT_CLI:function(){return tM},GIT_COMMIT_EDITMSG:function(){return tu},GIT_HOOK:function(){return tc},GIT_IGNORE:function(){return tr},HOOK:function(){return tm},LINT_STAGED_CLI:function(){return tO},LINT_STAGED_PACKAGE_NAME:function(){return tL},NODE_MODULES:function(){return Q},NODE_MODULES_INSPECT_CLI:function(){return tR},NODE_MODULES_INSPECT_PACKAGE_NAME:function(){return ty},PACKAGE_JSON:function(){return tt},PACKAGE_LOCK_JSON:function(){return tn},PATH:function(){return tg},PLAYWRIGHT_PACKAGE_NAME:function(){return tf},PNPM_CLI:function(){return tG},PNPM_EXEC_CLI:function(){return tD},PNPM_LOCK_YAML:function(){return t_},SIMPLE_GIT_HOOKS_PACKAGE_NAME:function(){return td},SIMPLE_GIT_HOOK_CLI:function(){return tK},SIMPLE_GIT_HOOK_JSON:function(){return to},TSCONFIG_JSON:function(){return te},TSC_CLI:function(){return ts},TSC_PACKAGE_NAME:function(){return tS},TSX_CLI:function(){return tP},VITEST_CLI:function(){return tA},VITEST_PACKAGE_NAME:function(){return tC},WORKING_DIRECTORY:function(){return V},join:function(){return J},resolve:function(){return x},resolveWorkingPath:function(){return q}});module.exports=P(M);var G=s(require("process"),1);var D=require("child_process"),d=s(require("process"),1),K=s(require("util"),1);var v=s(require("process"),1),p=v.default.env.DEBUG==="true";var y=s(require("chalk"),1),R=s(require("consola"),1),g=require("graphql");p||(R.default.level=4);function m(t){var n=y.default[t];return typeof n=="function"?n:y.default.green}var b={silent:R.default.silent,level:R.default.level,fatal:R.default.fatal,error:R.default.error,warn:R.default.warn,log:R.default.log,info:R.default.info,success:R.default.success,ready:R.default.ready,start:R.default.start,box:R.default.box,debug:R.default.debug,trace:R.default.trace,verbose:R.default.verbose,printBoxedLog:function t(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"red";if(!(n===null||n===void 0?void 0:n.length)){R.default.box(y.default.green(t));return}n.forEach(function(t){var n=t.file,r=t.position,o=t.rule,_=t.message;R.default.log("".concat(y.default.gray("File:")," ").concat(y.default.blue("".concat(n).concat(r?":".concat(r):"")))),o&&R.default.log("   ".concat(m(e)("Rule:")," ").concat(o)),R.default.log("   ".concat(m(e)("Message:")," ").concat(_))}),R.default.box(m(e)("".concat(t," : ").concat(n.length))),R.default.log(y.default.gray("â”€".repeat(40)))}};var h=s(require("node-fetch"),1);var Y=s(require("fs"),1);function j(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++){n[e]=arguments[e]}return n.every(function(t){return Y.existsSync(t)})}var H=s(require("node-persist"),1),B=s(require("os"),1),w=s(require("process"),1);var U=K.promisify(D.exec);function W(t){return{raw:!0,cmd:t}}function X(t,n){return(n===null||n===void 0?void 0:n.isRemote)?"".concat(tD," ").concat($," ").concat(t):(n===null||n===void 0?void 0:n.isCurrentProject)?"".concat(tD," ").concat(tP," ").concat(tE," ").concat(t):"".concat(tD," ").concat(ti," ").concat(t)}function k(t,n){return typeof t=="function"?X(t(n),n):(typeof t==="undefined"?"undefined":I(t))=="object"&&(t===null||t===void 0?void 0:t.raw)===!0?t.cmd:typeof t=="string"?X(t,n):t}var F=s(require("path"),1);function q(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++){n[e]=arguments[e]}var r;return(r=F).resolve.apply(r,[V].concat(E(n)))}function x(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++){n[e]=arguments[e]}var r;return(r=F).resolve.apply(r,E(n))}function J(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++){n[e]=arguments[e]}var r;return(r=F).join.apply(r,E(n))}var V=G.default.env.INIT_CWD||G.default.cwd(),$="@cyberskill/shared",z=".cyberskill-storage",Q="node_modules",Z="dist",tt="package.json",tn="package-lock.json",te="tsconfig.json",tr=".gitignore",to=".simple-git-hooks.json",t_="pnpm-lock.yaml",tc=".git/hooks/",tu=".git/COMMIT_EDITMSG",ta=J(V,Q,$,Z),ti="cyberskill",tE="src/nodejs/cli/index.ts",tI="eslint",tl="eslint",tC="vitest",tf="playwright",tA="vitest",tT="@commitlint/cli",tN="commitlint",tL="lint-staged",tO="lint-staged",tS="typescript",ts="tsc",tP="tsx",tM="git",tG="pnpm",tD="pnpm exec",td="simple-git-hooks",tK="simple-git-hooks",tv="@eslint/config-inspector",tp="eslint-config-inspector",ty="node-modules-inspector",tR="node-modules-inspector",tg={CYBERSKILL_DIRECTORY:ta,WORKING_DIRECTORY:V,TS_CONFIG:q(te),GIT_IGNORE:q(tr),GIT_HOOK:q(tc),GIT_COMMIT_MSG:q(tu),SIMPLE_GIT_HOOKS_JSON:q(to),PACKAGE_JSON:q(tt),PACKAGE_LOCK_JSON:q(tn),PNPM_LOCK_YAML:q(t_),NODE_MODULES:q(Q),CYBERSKILL:{LINT_STAGED_CONFIG:q("".concat(ta,"/configs/lint-staged/base.js")),COMMITLINT_CONFIG:q("".concat(ta,"/configs/commitlint/base.js")),UNIT_TEST_CONFIG:q("".concat(ta,"/react/vitest/vitest.unit.js")),UNIT_TEST_SETUP_CONFIG:q("".concat(ta,"/react/vitest/vitest.unit.setup.js")),E2E_TEST_CONFIG:q("".concat(ta,"/react/vitest/vitest.e2e.js"))}};function tm(t){var n=t.isCurrentProject;return a({"pre-commit":tO,"commit-msg":tN},n&&{"pre-push":W("".concat(tM," pull"))})}function tb(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++){e[r-1]=arguments[r]}var o=i(e,2),_=o[0],c=o[1],u=t==="RAW"?!0:j.apply(void 0,E(_.split(" ").map(function(t){return J(tg.NODE_MODULES,t)})));switch(t){case"PNPM_ADD_AND_EXEC":return k(W("".concat(u?"":"".concat(tG," add ").concat(_," && ")).concat(tD," ").concat(c)));case"PNPM_ADD_DEV_AND_EXEC":return k(W("".concat(u?"":"".concat(tG," add -D ").concat(_," && ")).concat(tD," ").concat(c)));case"RAW":return k(W(_))}}var th={SIMPLE_GIT_HOOKS:tb("PNPM_ADD_DEV_AND_EXEC",td,tK),ESLINT_INSPECT:tb("PNPM_ADD_DEV_AND_EXEC",tv,tp),NODE_MODULES_INSPECT:tb("PNPM_ADD_DEV_AND_EXEC",ty,tR),ESLINT_CHECK:tb("PNPM_ADD_DEV_AND_EXEC",tI,"".concat(tl," ").concat(tg.WORKING_DIRECTORY)),ESLINT_FIX:tb("PNPM_ADD_DEV_AND_EXEC",tI,"".concat(tl," ").concat(tg.WORKING_DIRECTORY," --fix")),TYPESCRIPT_CHECK:tb("PNPM_ADD_AND_EXEC",tS,"".concat(ts," -p ").concat(tg.TS_CONFIG," --noEmit")),CONFIGURE_GIT_HOOK:tb("RAW","".concat(tM," config core.hooksPath ").concat(tg.GIT_HOOK)),BUILD:tb("RAW","".concat(tG," run build")),STAGE_BUILD_DIRECTORY:tb("RAW","".concat(tM," add ").concat(Z)),PNPM_INSTALL_STANDARD:tb("RAW","".concat(tG," install")),PNPM_INSTALL_LEGACY:tb("RAW","".concat(tG," install --legacy-peer-deps")),PNPM_INSTALL_FORCE:tb("RAW","".concat(tG," install --force")),CYBERSKILL:{TEST_UNIT:tb("PNPM_ADD_AND_EXEC",tC,"".concat(tA," --config ").concat(tg.CYBERSKILL.UNIT_TEST_CONFIG)),TEST_E2E:tb("PNPM_ADD_AND_EXEC","".concat(tC," ").concat(tf),"".concat(tA," --config ").concat(tg.CYBERSKILL.E2E_TEST_CONFIG)),COMMIT_LINT:tb("PNPM_ADD_DEV_AND_EXEC",tT,"".concat(tN," --edit ").concat(tg.GIT_COMMIT_MSG," --config ").concat(tg.CYBERSKILL.COMMITLINT_CONFIG)),LINT_STAGED:tb("PNPM_ADD_DEV_AND_EXEC",tL,"".concat(tO," --config ").concat(tg.CYBERSKILL.LINT_STAGED_CONFIG))}};0&&(module.exports={BUILD_DIRECTORY:BUILD_DIRECTORY,COMMAND:COMMAND,COMMIT_LINT_CLI:COMMIT_LINT_CLI,COMMIT_LINT_PACKAGE_NAME:COMMIT_LINT_PACKAGE_NAME,CYBERSKILL_CLI:CYBERSKILL_CLI,CYBERSKILL_CLI_PATH:CYBERSKILL_CLI_PATH,CYBERSKILL_DIRECTORY:CYBERSKILL_DIRECTORY,CYBERSKILL_PACKAGE_NAME:CYBERSKILL_PACKAGE_NAME,CYBERSKILL_STORAGE:CYBERSKILL_STORAGE,ESLINT_CLI:ESLINT_CLI,ESLINT_INSPECT_CLI:ESLINT_INSPECT_CLI,ESLINT_INSPECT_PACKAGE_NAME:ESLINT_INSPECT_PACKAGE_NAME,ESLINT_PACKAGE_NAME:ESLINT_PACKAGE_NAME,GIT_CLI:GIT_CLI,GIT_COMMIT_EDITMSG:GIT_COMMIT_EDITMSG,GIT_HOOK:GIT_HOOK,GIT_IGNORE:GIT_IGNORE,HOOK:HOOK,LINT_STAGED_CLI:LINT_STAGED_CLI,LINT_STAGED_PACKAGE_NAME:LINT_STAGED_PACKAGE_NAME,NODE_MODULES:NODE_MODULES,NODE_MODULES_INSPECT_CLI:NODE_MODULES_INSPECT_CLI,NODE_MODULES_INSPECT_PACKAGE_NAME:NODE_MODULES_INSPECT_PACKAGE_NAME,PACKAGE_JSON:PACKAGE_JSON,PACKAGE_LOCK_JSON:PACKAGE_LOCK_JSON,PATH:PATH,PLAYWRIGHT_PACKAGE_NAME:PLAYWRIGHT_PACKAGE_NAME,PNPM_CLI:PNPM_CLI,PNPM_EXEC_CLI:PNPM_EXEC_CLI,PNPM_LOCK_YAML:PNPM_LOCK_YAML,SIMPLE_GIT_HOOKS_PACKAGE_NAME:SIMPLE_GIT_HOOKS_PACKAGE_NAME,SIMPLE_GIT_HOOK_CLI:SIMPLE_GIT_HOOK_CLI,SIMPLE_GIT_HOOK_JSON:SIMPLE_GIT_HOOK_JSON,TSCONFIG_JSON:TSCONFIG_JSON,TSC_CLI:TSC_CLI,TSC_PACKAGE_NAME:TSC_PACKAGE_NAME,TSX_CLI:TSX_CLI,VITEST_CLI:VITEST_CLI,VITEST_PACKAGE_NAME:VITEST_PACKAGE_NAME,WORKING_DIRECTORY:WORKING_DIRECTORY,join:join,resolve:resolve,resolveWorkingPath:resolveWorkingPath});