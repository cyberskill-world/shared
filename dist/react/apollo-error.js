function r(r,e){if(e==null||e>r.length)e=r.length;for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function e(r){if(Array.isArray(r))return r}function t(r,e){var t=r==null?null:typeof Symbol!=="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t==null)return;var n=[];var o=true;var l=false;var i,a;try{for(t=t.call(r);!(o=(i=t.next()).done);o=true){n.push(i.value);if(e&&n.length===e)break}}catch(r){l=true;a=r}finally{try{if(!o&&t["return"]!=null)t["return"]()}finally{if(l)throw a}}return n}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(r,o){return e(r)||t(r,o)||l(r,o)||n()}function l(e,t){if(!e)return;if(typeof e==="string")return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}import{createContext as i,use as a,useEffect as s,useMemo as c,useState as u}from"react";import{jsx as d,jsxs as h}from"react/jsx-runtime";var m=i(void 0);function f(){var r=a(m);if(!r)throw new Error("useApolloErrorViewer must be used within ApolloErrorViewerProvider");return r}var p=null;function v(r){p=r}function b(r){p&&p(r)}function w(r){var e=r.children;var t=o(u(null),2),n=t[0],l=t[1];s(function(){v(l)},[]);var i=c(function(){return{error:n,showError:l,hideError:function(){return l(null)}}},[n]);return d(m,{value:i,children:e})}function x(r){var e=r.error,t=r.refetch;var n,o,l;return d("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:h("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 shadow-xl rounded-2xl p-8 w-full max-w-lg text-center text-white",children:[d("div",{className:"text-5xl mb-4",children:"\uD83D\uDEA8"}),d("h1",{className:"text-2xl font-bold mb-2",children:"Something went wrong"}),d("p",{className:"text-sm text-slate-300 mb-4",children:"A problem occurred while communicating with the server."}),h("div",{className:"bg-slate-800 text-left text-sm rounded-lg px-4 py-3 mb-6 overflow-auto max-h-64 border border-slate-700 space-y-2",children:[h("pre",{className:"text-red-300 whitespace-pre-wrap break-words",children:[d("strong",{children:"Main Error:"})," ",e.message]}),e.networkError&&h("pre",{className:"text-yellow-300 whitespace-pre-wrap break-words",children:[d("strong",{children:"Network Error:"})," ",e.networkError.message]}),((n=e.graphQLErrors)===null||n===void 0?void 0:n.length)>0&&h("div",{className:"text-rose-400",children:[d("strong",{children:"GraphQL Errors:"}),d("ul",{className:"list-disc list-inside",children:e.graphQLErrors.map(function(r){return d("li",{children:r.message},r.message)})})]}),((o=e.protocolErrors)===null||o===void 0?void 0:o.length)>0&&h("div",{className:"text-rose-400",children:[d("strong",{children:"Protocol Errors:"}),d("ul",{className:"list-disc list-inside",children:e.protocolErrors.map(function(r){return d("li",{children:r.message},r.message)})})]}),((l=e.clientErrors)===null||l===void 0?void 0:l.length)>0&&h("div",{className:"text-rose-400",children:[d("strong",{children:"Client Errors:"}),d("ul",{className:"list-disc list-inside",children:e.clientErrors.map(function(r){return d("li",{children:r.message},r.message)})})]}),e.extraInfo&&h("pre",{className:"text-cyan-300 whitespace-pre-wrap break-words",children:[d("strong",{children:"Extra Info:"})," ",JSON.stringify(e.extraInfo)]})]}),t&&d("button",{type:"button",onClick:t,className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-semibold px-6 py-2 rounded-xl transition duration-300",children:"\uD83D\uDD04 Retry"})]})})}function g(){var r=a(m);if(!r)return null;var e=r.error,t=r.hideError;return e?d("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4",children:h("div",{className:"relative bg-slate-900 text-white max-w-2xl w-full rounded-xl shadow-lg overflow-hidden",children:[d("button",{type:"button",onClick:t,className:"absolute top-3 right-4 text-xl hover:text-red-400",children:"âœ•"}),d(x,{error:e})]})}):null}export{x as ApolloErrorScreen,g as ApolloErrorViewerModal,w as ApolloErrorViewerProvider,v as registerApolloErrorViewerCallback,b as showGlobalApolloError,f as useApolloErrorViewer};