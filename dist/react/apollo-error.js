function r(r,e){if(e==null||e>r.length)e=r.length;for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function e(r){if(Array.isArray(r))return r}function t(e){if(Array.isArray(e))return r(e)}function n(r){if(typeof Symbol!=="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function o(r,e){var t=r==null?null:typeof Symbol!=="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t==null)return;var n=[];var o=true;var l=false;var a,i;try{for(t=t.call(r);!(o=(a=t.next()).done);o=true){n.push(a.value);if(e&&n.length===e)break}}catch(r){l=true;i=r}finally{try{if(!o&&t["return"]!=null)t["return"]()}finally{if(l)throw i}}return n}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(r,t){return e(r)||o(r,t)||s(r,t)||l()}function u(r){return t(r)||n(r)||s(r)||a()}function s(e,t){if(!e)return;if(typeof e==="string")return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}import{createContext as c,use as f,useEffect as d,useMemo as m,useState as h}from"react";import{FaRepeat as p}from"react-icons/fa6";import v from"./apollo-error.module.scss";import{jsx as y,jsxs as b}from"react/jsx-runtime";var E=c(void 0);function w(){var r=f(E);if(!r)throw new Error("useApolloErrorViewer must be used within ApolloErrorViewerProvider");return r}var g=null;function A(r){g=r}function k(r){g===null||g===void 0?void 0:g(r)}function x(r){var e=r.children;var t=i(h(null),2),n=t[0],o=t[1];d(function(){A(o)},[]);var l=m(function(){return{error:n,showError:o,hideError:function(){return o(null)}}},[n]);return y(E,{value:l,children:e})}function N(){var r=f(E),e=r===null||r===void 0?void 0:r.error;if(!e)return null;var t=function(r,e){return(e===null||e===void 0?void 0:e.length)?b("div",{children:[b("strong",{children:[r,":"]}),y("ul",{children:e.map(function(r){return y("li",{children:r.message},r.message)})})]}):null};return y("div",{className:v["modal-backdrop"],children:b("div",{className:v["modal-content"],children:[y("button",{type:"button",className:v["btn-close"],onClick:r.hideError,children:"âœ•"}),b("div",{className:v["error-title"],children:[y("button",{type:"button",className:v["btn-retry"],onClick:function(){return window.location.reload()},children:y(p,{})})," ",e.message]}),b("div",{className:v["error-details"],children:[e.networkError&&b("pre",{className:"network",children:[y("strong",{children:"Network Error:"})," ",e.networkError.message]}),t("GraphQL Errors",u(e.graphQLErrors)),t("Protocol Errors",u(e.protocolErrors)),t("Client Errors",u(e.clientErrors)),e.extraInfo&&b("pre",{className:"extra",children:[y("strong",{children:"Extra Info:"})," ",JSON.stringify(e.extraInfo,null,4)]})]})]})})}export{N as ApolloErrorViewerModal,x as ApolloErrorViewerProvider,A as registerApolloErrorViewerCallback,k as showGlobalApolloError,w as useApolloErrorViewer};