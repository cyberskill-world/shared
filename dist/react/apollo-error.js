function r(r,e){if(e==null||e>r.length)e=r.length;for(var n=0,o=new Array(e);n<e;n++)o[n]=r[n];return o}function e(r){if(Array.isArray(r))return r}function n(r,e){var n=r==null?null:typeof Symbol!=="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(n==null)return;var o=[];var t=true;var l=false;var i,a;try{for(n=n.call(r);!(t=(i=n.next()).done);t=true){o.push(i.value);if(e&&o.length===e)break}}catch(r){l=true;a=r}finally{try{if(!t&&n["return"]!=null)n["return"]()}finally{if(l)throw a}}return o}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(r,t){return e(r)||n(r,t)||l(r,t)||o()}function l(e,n){if(!e)return;if(typeof e==="string")return r(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor)o=e.constructor.name;if(o==="Map"||o==="Set")return Array.from(o);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return r(e,n)}import{createContext as i,use as a,useEffect as s,useMemo as c,useState as u}from"react";import{FaRepeat as d}from"react-icons/fa6";import f from"./apollo-error.module.scss";import{jsx as h,jsxs as m}from"react/jsx-runtime";var p=i(void 0);function v(){var r=a(p);if(!r)throw new Error("useApolloErrorViewer must be used within ApolloErrorViewerProvider");return r}var g=null;function E(r){g=r}function y(r){g&&g(r)}function b(r){var e=r.children;var n=t(u(null),2),o=n[0],l=n[1];s(function(){E(l)},[]);var i=c(function(){return{error:o,showError:l,hideError:function(){return l(null)}}},[o]);return h(p,{value:i,children:e})}function w(){var r,e,n;var o=a(p);if(!o||!o.error)return null;var t=o.error,l=o.hideError;return h("div",{className:f["modal-backdrop"],children:m("div",{className:f["modal-content"],children:[h("button",{type:"button",className:f["btn-close"],onClick:l,children:"âœ•"}),h("div",{className:f["error-title"],children:t.message}),m("div",{className:f["error-details"],children:[t.networkError&&m("pre",{className:"network",children:[h("strong",{children:"Network Error:"}),"\xa0",t.networkError.message]}),((r=t.graphQLErrors)===null||r===void 0?void 0:r.length)>0&&m("div",{children:[h("strong",{children:"GraphQL Errors:"}),h("ul",{children:t.graphQLErrors.map(function(r){return h("li",{children:r.message},r.message)})})]}),((e=t.protocolErrors)===null||e===void 0?void 0:e.length)>0&&m("div",{children:[h("strong",{children:"Protocol Errors:"}),h("ul",{children:t.protocolErrors.map(function(r){return h("li",{children:r.message},r.message)})})]}),((n=t.clientErrors)===null||n===void 0?void 0:n.length)>0&&m("div",{children:[h("strong",{children:"Client Errors:"}),h("ul",{children:t.clientErrors.map(function(r){return h("li",{children:r.message},r.message)})})]}),t.extraInfo&&m("pre",{className:"extra",children:[h("strong",{children:"Extra Info:"}),"\xa0",JSON.stringify(t.extraInfo,null,4)]})]}),h("button",{type:"button",className:f["btn-retry"],onClick:function(){return window.location.reload()},children:h(d,{})})]})})}export{w as ApolloErrorViewerModal,b as ApolloErrorViewerProvider,E as registerApolloErrorViewerCallback,y as showGlobalApolloError,v as useApolloErrorViewer};