function r(r,e){if(e==null||e>r.length)e=r.length;for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}function e(r){if(Array.isArray(r))return r}function t(r,e){var t=r==null?null:typeof Symbol!=="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t==null)return;var o=[];var n=true;var l=false;var i,a;try{for(t=t.call(r);!(n=(i=t.next()).done);n=true){o.push(i.value);if(e&&o.length===e)break}}catch(r){l=true;a=r}finally{try{if(!n&&t["return"]!=null)t["return"]()}finally{if(l)throw a}}return o}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(r,n){return e(r)||t(r,n)||l(r,n)||o()}function l(e,t){if(!e)return;if(typeof e==="string")return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor)o=e.constructor.name;if(o==="Map"||o==="Set")return Array.from(o);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return r(e,t)}import{createContext as i,useContext as a,useEffect as s,useState as c}from"react";import{jsx as d,jsxs as u}from"react/jsx-runtime";var h=i(void 0),m=null;function f(r){m=r}function p(r){m&&m(r)}function v(){var r=a(h);if(!r)throw new Error("useApolloErrorViewer must be used within ApolloErrorViewerProvider");return r}function w(r){var e=r.children;var t=n(c(null),2),o=t[0],l=t[1];return s(function(){f(l)},[]),d(h.Provider,{value:{error:o,showError:l,hideError:function(){return l(null)}},children:e})}var x=function(r){var e=r.error,t=r.refetch;var o,n,l;return d("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:u("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 shadow-xl rounded-2xl p-8 w-full max-w-lg text-center text-white",children:[d("div",{className:"text-5xl mb-4",children:"\uD83D\uDEA8"}),d("h1",{className:"text-2xl font-bold mb-2",children:"Something went wrong"}),d("p",{className:"text-sm text-slate-300 mb-4",children:"A problem occurred while communicating with the server."}),u("div",{className:"bg-slate-800 text-left text-sm rounded-lg px-4 py-3 mb-6 overflow-auto max-h-64 border border-slate-700 space-y-2",children:[u("pre",{className:"text-red-300 whitespace-pre-wrap break-words",children:[d("strong",{children:"Main Error:"})," ",e.message]}),e.networkError&&u("pre",{className:"text-yellow-300 whitespace-pre-wrap break-words",children:[d("strong",{children:"Network Error:"})," ",e.networkError.message]}),((o=e.graphQLErrors)===null||o===void 0?void 0:o.length)>0&&u("div",{className:"text-rose-400",children:[d("strong",{children:"GraphQL Errors:"}),d("ul",{className:"list-disc list-inside",children:e.graphQLErrors.map(function(r,e){return d("li",{children:r.message},e)})})]}),((n=e.protocolErrors)===null||n===void 0?void 0:n.length)>0&&u("div",{className:"text-rose-400",children:[d("strong",{children:"Protocol Errors:"}),d("ul",{className:"list-disc list-inside",children:e.protocolErrors.map(function(r,e){return d("li",{children:r.message},e)})})]}),((l=e.clientErrors)===null||l===void 0?void 0:l.length)>0&&u("div",{className:"text-rose-400",children:[d("strong",{children:"Client Errors:"}),d("ul",{className:"list-disc list-inside",children:e.clientErrors.map(function(r,e){return d("li",{children:r.message},e)})})]}),e.extraInfo&&u("pre",{className:"text-cyan-300 whitespace-pre-wrap break-words",children:[d("strong",{children:"Extra Info:"})," ",JSON.stringify(e.extraInfo)]})]}),t&&d("button",{onClick:t,className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-semibold px-6 py-2 rounded-xl transition duration-300",children:"\uD83D\uDD04 Retry"})]})})};function b(){var r=a(h);if(!r)return null;var e=r.error,t=r.hideError;return e?d("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4",children:u("div",{className:"relative bg-slate-900 text-white max-w-2xl w-full rounded-xl shadow-lg overflow-hidden",children:[d("button",{onClick:t,className:"absolute top-3 right-4 text-xl hover:text-red-400",children:"âœ•"}),d(x,{error:e})]})}):null}export{x as ApolloErrorScreen,b as ApolloErrorViewerModal,w as ApolloErrorViewerProvider,f as registerApolloErrorViewerCallback,p as showGlobalApolloError,v as useApolloErrorViewer};