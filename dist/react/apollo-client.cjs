"use strict";function e(e,r){if(r==null||r>e.length)r=e.length;for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function r(e){if(Array.isArray(e))return e}function t(r){if(Array.isArray(r))return e(r)}function n(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function o(e,r,t){r=c(r);return x(e,O()?Reflect.construct(r,t||[],c(e).constructor):r.apply(e,t))}function i(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function l(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function a(e,r,t){if(r)l(e.prototype,r);if(t)l(e,t);return e}function s(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function u(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)w(e,r)}function f(e,r){if(r!=null&&typeof Symbol!=="undefined"&&r[Symbol.hasInstance]){return!!r[Symbol.hasInstance](e)}else{return e instanceof r}}function d(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p(e,r){var t=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t==null)return;var n=[];var o=true;var i=false;var l,a;try{for(t=t.call(e);!(o=(l=t.next()).done);o=true){n.push(l.value);if(r&&n.length===r)break}}catch(e){i=true;a=e}finally{try{if(!o&&t["return"]!=null)t["return"]()}finally{if(i)throw a}}return n}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};var n=Object.keys(t);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))}n.forEach(function(r){s(e,r,t[r])})}return e}function b(e,r){if(e==null)return{};var t=y(e,r);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){n=i[o];if(r.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;t[n]=e[n]}}return t}function y(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(r.indexOf(o)>=0)continue;t[o]=e[o]}return t}function x(e,r){if(r&&(k(r)==="object"||typeof r==="function")){return r}return n(e)}function w(e,r){w=Object.setPrototypeOf||function e(e,r){e.__proto__=r;return e};return w(e,r)}function g(e,t){return r(e)||p(e,t)||E(e,t)||m()}function j(e){return t(e)||d(e)||E(e)||v()}function k(e){"@swc/helpers - typeof";return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}function E(r,t){if(!r)return;if(typeof r==="string")return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor)n=r.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(r,t)}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(O=function(){return!!e})()}var N=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var L=function(e,r){for(var t in r)N(e,t,{get:r[t],enumerable:!0})},C=function(e,r,t,n){var o=true,i=false,l=undefined;if(r&&(typeof r==="undefined"?"undefined":k(r))=="object"||typeof r=="function")try{var a=function(){var o=c.value;!P.call(e,o)&&o!==t&&N(e,o,{get:function(){return r[o]},enumerable:!(n=S(r,o))||n.enumerable})};for(var s=A(r)[Symbol.iterator](),c;!(o=(c=s.next()).done);o=true)a()}catch(e){i=true;l=e}finally{try{if(!o&&s.return!=null){s.return()}}finally{if(i){throw l}}}return e};var q=function(e){return C(N({},"__esModule",{value:!0}),e)};var I={};L(I,{ApolloProvider:function(){return en}});module.exports=q(I);var _=require("@apollo/client"),T=require("@apollo/client/link/error"),U=require("@apollo/client/link/remove-typename"),M=require("@apollo/client/link/retry"),Q=require("@apollo/client/link/subscriptions"),R=require("@apollo/client/utilities"),D=require("graphql-ws"),G=require("react"),J=require("react-hot-toast"),F=require("react-icons/fa6");var H="/graphql";var W=require("react"),B=require("react/jsx-runtime"),z=(0,W.createContext)(void 0);var V=null;function $(e){V=e}function K(e){V&&V(e)}function X(e){var r=e.children;var t=g((0,W.useState)(null),2),n=t[0],o=t[1];(0,W.useEffect)(function(){$(o)},[]);var i=(0,W.useMemo)(function(){return{error:n,showError:o,hideError:function(){return o(null)}}},[n]);return(0,B.jsx)(z,{value:i,children:r})}function Y(e){var r=e.error,t=e.refetch;var n,o,i;return(0,B.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:(0,B.jsxs)("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 shadow-xl rounded-2xl p-8 w-full max-w-lg text-center text-white",children:[(0,B.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDEA8"}),(0,B.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Something went wrong"}),(0,B.jsx)("p",{className:"text-sm text-slate-300 mb-4",children:"A problem occurred while communicating with the server."}),(0,B.jsxs)("div",{className:"bg-slate-800 text-left text-sm rounded-lg px-4 py-3 mb-6 overflow-auto max-h-64 border border-slate-700 space-y-2",children:[(0,B.jsxs)("pre",{className:"text-red-300 whitespace-pre-wrap break-words",children:[(0,B.jsx)("strong",{children:"Main Error:"})," ",r.message]}),r.networkError&&(0,B.jsxs)("pre",{className:"text-yellow-300 whitespace-pre-wrap break-words",children:[(0,B.jsx)("strong",{children:"Network Error:"})," ",r.networkError.message]}),((n=r.graphQLErrors)===null||n===void 0?void 0:n.length)>0&&(0,B.jsxs)("div",{className:"text-rose-400",children:[(0,B.jsx)("strong",{children:"GraphQL Errors:"}),(0,B.jsx)("ul",{className:"list-disc list-inside",children:r.graphQLErrors.map(function(e){return(0,B.jsx)("li",{children:e.message},e.message)})})]}),((o=r.protocolErrors)===null||o===void 0?void 0:o.length)>0&&(0,B.jsxs)("div",{className:"text-rose-400",children:[(0,B.jsx)("strong",{children:"Protocol Errors:"}),(0,B.jsx)("ul",{className:"list-disc list-inside",children:r.protocolErrors.map(function(e){return(0,B.jsx)("li",{children:e.message},e.message)})})]}),((i=r.clientErrors)===null||i===void 0?void 0:i.length)>0&&(0,B.jsxs)("div",{className:"text-rose-400",children:[(0,B.jsx)("strong",{children:"Client Errors:"}),(0,B.jsx)("ul",{className:"list-disc list-inside",children:r.clientErrors.map(function(e){return(0,B.jsx)("li",{children:e.message},e.message)})})]}),r.extraInfo&&(0,B.jsxs)("pre",{className:"text-cyan-300 whitespace-pre-wrap break-words",children:[(0,B.jsx)("strong",{children:"Extra Info:"})," ",JSON.stringify(r.extraInfo)]})]}),t&&(0,B.jsx)("button",{type:"button",onClick:t,className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-semibold px-6 py-2 rounded-xl transition duration-300",children:"\uD83D\uDD04 Retry"})]})})}function Z(){var e=(0,W.use)(z);if(!e)return null;var r=e.error,t=e.hideError;return r?(0,B.jsx)("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4",children:(0,B.jsxs)("div",{className:"relative bg-slate-900 text-white max-w-2xl w-full rounded-xl shadow-lg overflow-hidden",children:[(0,B.jsx)("button",{type:"button",onClick:t,className:"absolute top-3 right-4 text-xl hover:text-red-400",children:"✕"}),(0,B.jsx)(Y,{error:r})]})}):null}var ee=require("react/jsx-runtime"),er=/*#__PURE__*/function(e){u(r,e);function r(){i(this,r);var e;e=o(this,r,arguments);e.count=0;return e}a(r,[{key:"request",value:function e(e,r){var t=this;var n=Date.now();return this.count+=1,r(e).map(function(r){var o=Date.now()-n,i=e.operationName||"Unnamed";return console.info("[Apollo] #".concat(t.count,": ").concat(i," (").concat(o,"ms)")),r})}}]);return r}(_.ApolloLink);function et(e){var r=e||{},t=r.uri,n=r.wsUrl,o=r.customLinks,i=new er,l=(0,T.onError)(function(e){var r=e.graphQLErrors,t=e.networkError,n=e.protocolErrors,o=e.operation;var i=(o===null||o===void 0?void 0:o.operationName)||"Unknown";if(r&&r.forEach(function(e){var r=e.message,t=e.locations,n=e.path;console.error("[GraphQL error] ".concat(i,": ").concat(r,", Location: ").concat(JSON.stringify(t),", Path: ").concat(n))}),n&&n.forEach(function(e){var r=e.message,t=e.extensions;console.error("[Protocol error]: ".concat(r,", Extensions: ").concat(JSON.stringify(t)))}),t&&console.error("[Network error]: ".concat(t)),r||n||t){var l,a;var s=(r===null||r===void 0?void 0:(l=r[0])===null||l===void 0?void 0:l.message)||(n===null||n===void 0?void 0:(a=n[0])===null||a===void 0?void 0:a.message)||(t===null||t===void 0?void 0:t.message)||"Unexpected error",c=new _.ApolloError({graphQLErrors:r||[],protocolErrors:n||[],clientErrors:[],networkError:t||null,errorMessage:s,extraInfo:{operation:o}});J.toast.custom(function(e){return(0,ee.jsxs)("div",{className:"bg-slate-800 text-white px-4 py-3 rounded shadow-md flex flex-col gap-2 w-full max-w-sm",children:[(0,ee.jsxs)("div",{className:"text-sm font-medium",children:["\uD83D\uDEA8",i," ","—",s]}),(0,ee.jsx)(F.FaQuestion,{onClick:function(){setTimeout(function(){K(c)},0),J.toast.dismiss(e.id)},className:"text-xs text-blue-400 hover:text-blue-300 underline self-start"})]})})}}),a=new M.RetryLink,s=(0,U.removeTypenameFromVariables)();t||console.warn('[Apollo] No GraphQL URI provided — using "'.concat(H,'" as default'));var c=new _.HttpLink({uri:t!==null&&t!==void 0?t:H,credentials:"include"});n||console.warn("[Apollo] No WebSocket URL provided — subscriptions will use HTTP only");var u=n?new Q.GraphQLWsLink((0,D.createClient)({url:n})):_.ApolloLink.empty(),d=f(u,_.ApolloLink)?(0,_.split)(function(e){var r=e.query;var t=(0,R.getMainDefinition)(r);return t.kind==="OperationDefinition"&&t.operation==="subscription"},u,c):c;return d===c&&n&&console.warn("[Apollo] WS URL is set, but subscriptions fallback to HTTP. Check your wsLink config."),[i,l,a,s].concat(j(o!==null&&o!==void 0?o:[]),[d])}function en(e){var r=e.isNextJS,t=e.options,n=e.children,o=e.client,i=e.provider,l=e.cache;var a=t||{},s=a.uri,c=a.wsUrl,u=a.customLinks,d=b(a,["uri","wsUrl","customLinks"]);if(typeof(o!==null&&o!==void 0?o:_.ApolloClient)!="function")throw new TypeError("Invalid ApolloClient provided. Ensure CustomClient is a class.");var p=i||_.ApolloProvider,m=(0,G.useMemo)(function(){return(0,_.from)(et({uri:s,wsUrl:c,customLinks:u}))},[s,c,u]),v=(0,G.useMemo)(function(){return new _.ApolloClient(h({link:m,cache:f(l,_.InMemoryCache)?l:new _.InMemoryCache},d))},[m,l,d]),y=r?(0,ee.jsx)(p,{makeClient:function(){return v},children:n}):(0,ee.jsx)(p,{client:v,children:n});return r?(0,ee.jsx)(p,{makeClient:function(){return v},children:n}):(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)(X,{children:[y,(0,ee.jsx)(Z,{})]}),(0,ee.jsx)(J.Toaster,{})]})}0&&(module.exports={ApolloProvider:ApolloProvider});