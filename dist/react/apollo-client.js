function r(r,n,e){if(n in r){Object.defineProperty(r,n,{value:e,enumerable:true,configurable:true,writable:true})}else{r[n]=e}return r}function n(r,n){if(n!=null&&typeof Symbol!=="undefined"&&n[Symbol.hasInstance]){return!!n[Symbol.hasInstance](r)}else{return r instanceof n}}function e(n){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};var i=Object.keys(o);if(typeof Object.getOwnPropertySymbols==="function"){i=i.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))}i.forEach(function(e){r(n,e,o[e])})}return n}import{ApolloClient as o,ApolloLink as i,ApolloProvider as t,HttpLink as l,InMemoryCache as a,split as c}from"@apollo/client";import{onError as s}from"@apollo/client/link/error";import{GraphQLWsLink as u}from"@apollo/client/link/subscriptions";import{getMainDefinition as p}from"@apollo/client/utilities";import{createClient as f}from"graphql-ws";import{jsx as v}from"react/jsx-runtime";function m(r){var n=s(function(r){var n=r.graphQLErrors,e=r.networkError;n===null||n===void 0?void 0:n.forEach(function(r){var n=r.message,e=r.locations,o=r.path;return console.error("[GraphQL error]: Message: ".concat(n,", Location: ").concat(e,", Path: ").concat(o))}),e&&console.error("[Network error]: ".concat(e))}),e=new l({uri:r===null||r===void 0?void 0:r.uri,credentials:"include"}),o=(r===null||r===void 0?void 0:r.wsUrl)?new u(f({url:r.wsUrl})):null,t=o?c(function(r){var n=r.query;var e=p(n);if(e.kind==="OperationDefinition"){var o=e.operation;return o==="subscription"}return!1},o,e):e,a=new i(function(r,n){return r.variables&&(r.variables=JSON.parse(JSON.stringify(r.variables),function(r,n){return r==="__typename"?void 0:n})),n(r)});return{errorLink:n,httpLink:e,wsLink:o,splitLink:t,cleanTypeName:a}}function d(r){var l=r.isNextJS,c=r.options,s=r.children,u=r.client,p=r.provider,f=r.cache;var d=u!==null&&u!==void 0?u:o;if(typeof d!="function")throw new TypeError("Invalid ApolloClient provided. Ensure CustomClient is a class.");var y=p||t,b=f||a,h=m(c),k=h.cleanTypeName,w=h.errorLink,L=h.splitLink,g=new d(e({cache:n(b,a)?b:new a,link:i.from([k,w,L].filter(Boolean))},c));return l?v(y,{makeClient:function(){return g},children:s}):v(y,{client:g,children:s})}export{d as ApolloProvider};