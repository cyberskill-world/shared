function e(e,t,r,n,o,i,a){try{var c=e[i](a);var u=c.value}catch(e){r(e);return}if(c.done){t(u)}else{Promise.resolve(u).then(n,o)}}function t(t){return function(){var r=this,n=arguments;return new Promise(function(o,i){var a=t.apply(r,n);function c(t){e(a,o,i,c,u,"next",t)}function u(t){e(a,o,i,c,u,"throw",t)}c(undefined)})}}function r(e,t){var r,n,o,i,a={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),"throw":c(1),"return":c(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return u([e,t])}}function u(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=i[0]&2?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;if(n=0,o)i=[i[0]&2,o.value];switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:false};case 5:a.label++;n=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){a=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(i[0]===6&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}if(o[2])a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];n=0}finally{r=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}}import n from"node:process";import o from"ora";function i(e,t){return a.apply(this,arguments)}function a(){a=t(function(e,t){var i,a,c,u,l,s,f,p,h;var y=arguments;return r(this,function(r){switch(r.label){case 0:i=y.length>2&&y[2]!==void 0?y[2]:{};a=i.successMessage,c=i.failureMessage,u=i.errorList,l=u===void 0?[]:u,s=i.exitOnError,f=s===void 0?!0:s,p=o({text:e,color:"cyan",spinner:"dots"}).start();r.label=1;case 1:r.trys.push([1,3,,4]);return[4,t()];case 2:r.sent(),l.length?f?(p.fail(c||"".concat(e," ❌")),n.exit(1)):p.fail(c||"".concat(e," ❌")):p.succeed(a||"".concat(e," ✅"));return[3,4];case 3:h=r.sent();if(p.fail(c||"".concat(e," ❌")),f)n.exit(1);else throw h;return[3,4];case 4:return[2]}})});return a.apply(this,arguments)}export{i as runWithSpinner};