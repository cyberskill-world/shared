function e(e,r){if(r!=null&&typeof Symbol!=="undefined"&&r[Symbol.hasInstance]){return!!r[Symbol.hasInstance](e)}else{return e instanceof r}}function r(e){"@swc/helpers - typeof";return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}var n=Object.defineProperty;var i=function(e,r){return n(e,"name",{value:r,configurable:!0})};var t={Date:{is:i(function(r){return e(r,Date)},"is"),serialize:i(function(e){return{__type:"Date",value:e.toISOString()}},"serialize"),deserialize:i(function(e){return new Date(e)},"deserialize")},Map:{is:i(function(r){return e(r,Map)},"is"),serialize:i(function(e){return{__type:"Map",value:Array.from(e.entries())}},"serialize"),deserialize:i(function(e){return new Map(e)},"deserialize")},Set:{is:i(function(r){return e(r,Set)},"is"),serialize:i(function(e){return{__type:"Set",value:Array.from(e)}},"serialize"),deserialize:i(function(e){return new Set(e)},"deserialize")},RegExp:{is:i(function(r){return e(r,RegExp)},"is"),serialize:i(function(e){return{__type:"RegExp",value:{source:e.source,flags:e.flags}}},"serialize"),deserialize:i(function(e){var r=e.source,n=e.flags;return new RegExp(r,n)},"deserialize")},BigInt:{is:i(function(e){return(typeof e==="undefined"?"undefined":r(e))=="bigint"},"is"),serialize:i(function(e){return{__type:"BigInt",value:e.toString()}},"serialize"),deserialize:i(function(e){return BigInt(e)},"deserialize")}},u={serialize:function e(e){return JSON.stringify(e,function(e,r){var n=true,i=false,u=undefined;try{for(var a=Object.keys(t)[Symbol.iterator](),s;!(n=(s=a.next()).done);n=true){var f=s.value;var l=t[f];if(l.is(r))return l.serialize(r)}}catch(e){i=true;u=e}finally{try{if(!n&&a.return!=null){a.return()}}finally{if(i){throw u}}}return r})},deserialize:function e(e){return JSON.parse(e,function(e,n){if(n&&(typeof n==="undefined"?"undefined":r(n))=="object"&&"__type"in n&&typeof n.__type=="string"){var i=n.__type,u=t[i];if(u)return u.deserialize(n.value)}return n})}};export{u as serializer};