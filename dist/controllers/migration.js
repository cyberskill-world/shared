function e(e,s,t,n,r,u,c){try{var a=e[u](c);var o=a.value}catch(e){t(e);return}if(a.done){s(o)}else{Promise.resolve(o).then(n,r)}}function s(s){return function(){var t=this,n=arguments;return new Promise(function(r,u){var c=s.apply(t,n);function a(s){e(c,r,u,a,o,"next",s)}function o(s){e(c,r,u,a,o,"throw",s)}a(undefined)})}}function t(e,s){if(!(e instanceof s)){throw new TypeError("Cannot call a class as a function")}}function n(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function r(e,s,t){if(s)n(e.prototype,s);if(t)n(e,t);return e}function u(e,s){var t,n,r,u,c={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]};return u={next:a(0),"throw":a(1),"return":a(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(e){return function(s){return o([e,s])}}function o(u){if(t)throw new TypeError("Generator is already executing.");while(c)try{if(t=1,n&&(r=u[0]&2?n["return"]:u[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,u[1])).done)return r;if(n=0,r)u=[u[0]&2,r.value];switch(u[0]){case 0:case 1:r=u;break;case 4:c.label++;return{value:u[1],done:false};case 5:c.label++;n=u[1];u=[0];continue;case 7:u=c.ops.pop();c.trys.pop();continue;default:if(!(r=c.trys,r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){c=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){c.label=u[1];break}if(u[0]===6&&c.label<r[1]){c.label=r[1];r=u;break}if(r&&c.label<r[2]){c.label=r[2];c.ops.push(u);break}if(r[2])c.ops.pop();c.trys.pop();continue}u=s.call(e,c)}catch(e){u=[6,e];n=0}finally{t=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}}var c=/*#__PURE__*/function(){"use strict";function e(s,n){t(this,e);this.collection=s.collection(n)}r(e,[{key:"createOne",value:function e(e){var t=this;return s(function(){var s,n;return u(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);s={success:!0,message:"Document created successfully"};return[4,t.collection.insertOne(e)];case 1:return[2,(s.result=r.sent(),s)];case 2:n=r.sent();return[2,{success:!1,message:n.message}];case 3:return[2]}})})()}},{key:"createMany",value:function e(e){var t=this;return s(function(){var s,n;return u(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,t.collection.insertMany(e)];case 1:s=r.sent();return[2,s.insertedCount===0?{success:!1,message:"No documents were inserted"}:{success:!0,message:"".concat(s.insertedCount," documents created successfully"),result:s}];case 2:n=r.sent();return[2,{success:!1,message:n.message}];case 3:return[2]}})})()}},{key:"findOne",value:function e(e){var t=this;return s(function(){var s,n;return u(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,t.collection.findOne(e)];case 1:s=r.sent();return[2,s?{success:!0,message:"Document found",result:s}:{success:!1,message:"Document not found"}];case 2:n=r.sent();return[2,{success:!1,message:n.message}];case 3:return[2]}})})()}},{key:"findAll",value:function e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var t=this;return s(function(){var s,n;return u(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);s={success:!0,message:"Documents retrieved successfully"};return[4,t.collection.find(e).toArray()];case 1:return[2,(s.result=r.sent(),s)];case 2:n=r.sent();return[2,{success:!1,message:n.message}];case 3:return[2]}})})()}},{key:"count",value:function e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var t=this;return s(function(){var s,n;return u(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);s={success:!0,message:"Count retrieved successfully"};return[4,t.collection.countDocuments(e)];case 1:return[2,(s.result=r.sent(),s)];case 2:n=r.sent();return[2,{success:!1,message:n.message}];case 3:return[2]}})})()}},{key:"updateOne",value:function e(e,t){var n=this;return s(function(){var s,r;return u(this,function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);return[4,n.collection.updateOne(e,{$set:t})];case 1:s=u.sent();return[2,s.matchedCount===0?{success:!1,message:"No documents matched the filter"}:{success:!0,message:"Document updated successfully",result:s}];case 2:r=u.sent();return[2,{success:!1,message:r.message}];case 3:return[2]}})})()}},{key:"updateMany",value:function e(e,t){var n=this;return s(function(){var s,r;return u(this,function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);return[4,n.collection.updateMany(e,{$set:t})];case 1:s=u.sent();return[2,s.matchedCount===0?{success:!1,message:"No documents matched the filter"}:{success:!0,message:"Documents updated successfully",result:s}];case 2:r=u.sent();return[2,{success:!1,message:r.message}];case 3:return[2]}})})()}},{key:"deleteOne",value:function e(e){var t=this;return s(function(){var s,n;return u(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,t.collection.deleteOne(e)];case 1:s=r.sent();return[2,s.deletedCount===0?{success:!1,message:"No documents matched the filter"}:{success:!0,message:"Document deleted successfully",result:s}];case 2:n=r.sent();return[2,{success:!1,message:n.message}];case 3:return[2]}})})()}},{key:"deleteMany",value:function e(e){var t=this;return s(function(){var s,n;return u(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,t.collection.deleteMany(e)];case 1:s=r.sent();return[2,s.deletedCount===0?{success:!1,message:"No documents matched the filter"}:{success:!0,message:"Documents deleted successfully",result:s}];case 2:n=r.sent();return[2,{success:!1,message:n.message}];case 3:return[2]}})})()}}]);return e}();export{c as MigrationController};