"use strict";function e(e,t,n,s,r,u,c){try{var a=e[u](c);var o=a.value}catch(e){n(e);return}if(a.done){t(o)}else{Promise.resolve(o).then(s,r)}}function t(t){return function(){var n=this,s=arguments;return new Promise(function(r,u){var c=t.apply(n,s);function a(t){e(c,r,u,a,o,"next",t)}function o(t){e(c,r,u,a,o,"throw",t)}a(undefined)})}}function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||false;s.configurable=true;if("value"in s)s.writable=true;Object.defineProperty(e,s.key,s)}}function r(e,t,n){if(t)s(e.prototype,t);if(n)s(e,n);return e}function u(e){"@swc/helpers - typeof";return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}function c(e,t){var n,s,r,u,c={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]};return u={next:a(0),"throw":a(1),"return":a(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(e){return function(t){return o([e,t])}}function o(u){if(n)throw new TypeError("Generator is already executing.");while(c)try{if(n=1,s&&(r=u[0]&2?s["return"]:u[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,u[1])).done)return r;if(s=0,r)u=[u[0]&2,r.value];switch(u[0]){case 0:case 1:r=u;break;case 4:c.label++;return{value:u[1],done:false};case 5:c.label++;s=u[1];u=[0];continue;case 7:u=c.ops.pop();c.trys.pop();continue;default:if(!(r=c.trys,r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){c=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){c.label=u[1];break}if(u[0]===6&&c.label<r[1]){c.label=r[1];r=u;break}if(r&&c.label<r[2]){c.label=r[2];c.ops.push(u);break}if(r[2])c.ops.pop();c.trys.pop();continue}u=t.call(e,c)}catch(e){u=[6,e];s=0}finally{n=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}}var a=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var i=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var f=function(e,t){for(var n in t)a(e,n,{get:t[n],enumerable:!0})},h=function(e,t,n,s){var r=true,c=false,f=undefined;if(t&&(typeof t==="undefined"?"undefined":u(t))=="object"||typeof t=="function")try{var h=function(){var r=m.value;!l.call(e,r)&&r!==n&&a(e,r,{get:function(){return t[r]},enumerable:!(s=o(t,r))||s.enumerable})};for(var d=i(t)[Symbol.iterator](),m;!(r=(m=d.next()).done);r=true)h()}catch(e){c=true;f=e}finally{try{if(!r&&d.return!=null){d.return()}}finally{if(c){throw f}}}return e};var d=function(e){return h(a({},"__esModule",{value:!0}),e)};var m={};f(m,{MigrationController:function(){return y}});module.exports=d(m);var y=/*#__PURE__*/function(){function e(t,s){n(this,e);this.collection=t.collection(s)}r(e,[{key:"createOne",value:function e(e){var n=this;return t(function(){var t,s;return c(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);t={success:!0,message:"Document created successfully"};return[4,n.collection.insertOne(e)];case 1:return[2,(t.result=r.sent(),t)];case 2:s=r.sent();return[2,{success:!1,message:s.message}];case 3:return[2]}})})()}},{key:"createMany",value:function e(e){var n=this;return t(function(){var t,s;return c(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,n.collection.insertMany(e)];case 1:t=r.sent();return[2,t.insertedCount===0?{success:!1,message:"No documents were inserted"}:{success:!0,message:"".concat(t.insertedCount," documents created successfully"),result:t}];case 2:s=r.sent();return[2,{success:!1,message:s.message}];case 3:return[2]}})})()}},{key:"findOne",value:function e(e){var n=this;return t(function(){var t,s;return c(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,n.collection.findOne(e)];case 1:t=r.sent();return[2,t?{success:!0,message:"Document found",result:t}:{success:!1,message:"Document not found"}];case 2:s=r.sent();return[2,{success:!1,message:s.message}];case 3:return[2]}})})()}},{key:"findAll",value:function e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var n=this;return t(function(){var t,s;return c(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);t={success:!0,message:"Documents retrieved successfully"};return[4,n.collection.find(e).toArray()];case 1:return[2,(t.result=r.sent(),t)];case 2:s=r.sent();return[2,{success:!1,message:s.message}];case 3:return[2]}})})()}},{key:"count",value:function e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var n=this;return t(function(){var t,s;return c(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);t={success:!0,message:"Count retrieved successfully"};return[4,n.collection.countDocuments(e)];case 1:return[2,(t.result=r.sent(),t)];case 2:s=r.sent();return[2,{success:!1,message:s.message}];case 3:return[2]}})})()}},{key:"updateOne",value:function e(e,n){var s=this;return t(function(){var t,r;return c(this,function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);return[4,s.collection.updateOne(e,{$set:n})];case 1:t=u.sent();return[2,t.matchedCount===0?{success:!1,message:"No documents matched the filter"}:{success:!0,message:"Document updated successfully",result:t}];case 2:r=u.sent();return[2,{success:!1,message:r.message}];case 3:return[2]}})})()}},{key:"updateMany",value:function e(e,n){var s=this;return t(function(){var t,r;return c(this,function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);return[4,s.collection.updateMany(e,{$set:n})];case 1:t=u.sent();return[2,t.matchedCount===0?{success:!1,message:"No documents matched the filter"}:{success:!0,message:"Documents updated successfully",result:t}];case 2:r=u.sent();return[2,{success:!1,message:r.message}];case 3:return[2]}})})()}},{key:"deleteOne",value:function e(e){var n=this;return t(function(){var t,s;return c(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,n.collection.deleteOne(e)];case 1:t=r.sent();return[2,t.deletedCount===0?{success:!1,message:"No documents matched the filter"}:{success:!0,message:"Document deleted successfully",result:t}];case 2:s=r.sent();return[2,{success:!1,message:s.message}];case 3:return[2]}})})()}},{key:"deleteMany",value:function e(e){var n=this;return t(function(){var t,s;return c(this,function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,n.collection.deleteMany(e)];case 1:t=r.sent();return[2,t.deletedCount===0?{success:!1,message:"No documents matched the filter"}:{success:!0,message:"Documents deleted successfully",result:t}];case 2:s=r.sent();return[2,{success:!1,message:s.message}];case 3:return[2]}})})()}}]);return e}();0&&(module.exports={MigrationController:MigrationController});