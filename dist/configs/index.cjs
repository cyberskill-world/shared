"use strict";function e(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t(e){if(Array.isArray(e))return e}function r(t){if(Array.isArray(t))return e(t)}function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function o(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var o=true;var i=false;var a,c;try{for(r=r.call(e);!(o=(a=r.next()).done);o=true){n.push(a.value);if(t&&n.length===t)break}}catch(e){i=true;c=e}finally{try{if(!o&&r["return"]!=null)r["return"]()}finally{if(i)throw c}}return n}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};var o=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}o.forEach(function(t){n(e,t,r[t])})}return e}function l(e,t){if(e==null)return{};var r=f(e,t);var n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){n=i[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function f(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function s(e,r){return t(e)||i(e,r)||v(e,r)||a()}function d(e){return r(e)||o(e)||v(e)||c()}function g(e){"@swc/helpers - typeof";return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}function v(t,r){if(!t)return;if(typeof t==="string")return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor)n=t.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}var p=void 0;var _=Object.create;var y=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var C=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty;var T=function(e,t){for(var r in t)y(e,r,{get:t[r],enumerable:!0})},O=function(e,t,r,n){var o=true,i=false,a=undefined;if(t&&(typeof t==="undefined"?"undefined":g(t))=="object"||typeof t=="function")try{var c=function(){var o=l.value;!I.call(e,o)&&o!==r&&y(e,o,{get:function(){return t[o]},enumerable:!(n=E(t,o))||n.enumerable})};for(var u=m(t)[Symbol.iterator](),l;!(o=(l=u.next()).done);o=true)c()}catch(e){i=true;a=e}finally{try{if(!o&&u.return!=null){u.return()}}finally{if(i){throw a}}}return e};var b=function(e,t,r){return r=e!=null?_(C(e)):{},O(t||!e||!e.__esModule?y(r,"default",{value:e,enumerable:!0}):r,e)},A=function(e){return O(y({},"__esModule",{value:!0}),e)};var N={};T(N,{E_ConfigType:function(){return S},commitlintConfig:function(){return h},createGraphqlCodegenConfig:function(){return e1},eslintConfig:function(){return eV},lintStagedConfig:function(){return e2},mergeConfigs:function(){return e0}});module.exports=A(N);var h={extends:["@commitlint/config-conventional"]};var S=function(e){return e.ESLINT="eslint",e.COMMITLINT="commitlint",e.LINT_STAGED="lint-staged",e.VITEST_REACT_E2E="vitest-react-e2e",e.VITEST_REACT_UNIT="vitest-react-unit",e}(S||{});var D=b(require("@antfu/eslint-config"),1);var w=b(require("@vitejs/plugin-react-swc"),1),P=require("vitest/config");function L(e){return(0,P.defineConfig)(u({plugins:[(0,w.default)()],test:{include:["**/*.test.e2e.?(c|m)[jt]s?(x)"],browser:{enabled:!0,provider:"playwright",instances:[{browser:"chromium"},{browser:"firefox"},{browser:"webkit"}]}}},e))}var M=b(require("@vitejs/plugin-react-swc"),1),j=require("vitest/config");var G=b(require("process"),1);var R=require("child_process"),q=b(require("process"),1),x=b(require("util"),1);var F=b(require("process"),1),k=F.default.env.DEBUG==="true";var K=b(require("chalk"),1),U=b(require("consola"),1),Y=require("graphql");k||(U.default.level=4);function X(e){var t=K.default[e];return typeof t=="function"?t:K.default.green}var W={silent:U.default.silent,level:U.default.level,fatal:U.default.fatal,error:U.default.error,warn:U.default.warn,log:U.default.log,info:U.default.info,success:U.default.success,ready:U.default.ready,start:U.default.start,box:U.default.box,debug:U.default.debug,trace:U.default.trace,verbose:U.default.verbose,printBoxedLog:function e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"red";if(!(t===null||t===void 0?void 0:t.length)){U.default.box(K.default.green(e));return}t.forEach(function(e){var t=e.file,n=e.position,o=e.rule,i=e.message;U.default.log("".concat(K.default.gray("File:")," ").concat(K.default.blue("".concat(t).concat(n?":".concat(n):"")))),o&&U.default.log("   ".concat(X(r)("Rule:")," ").concat(o)),U.default.log("   ".concat(X(r)("Message:")," ").concat(i))}),U.default.box(X(r)("".concat(e," : ").concat(t.length))),U.default.log(K.default.gray("â”€".repeat(40)))}};var B=b(require("node-fetch"),1);var H=b(require("fs"),1);function V(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return t.every(function(e){return H.existsSync(e)})}var J=b(require("node-persist"),1),$=b(require("os"),1),z=b(require("process"),1);var Q=x.promisify(R.exec);function Z(e){return{raw:!0,cmd:e}}function ee(e,t){return(t===null||t===void 0?void 0:t.isRemote)?"".concat(ej," ").concat(ea," ").concat(e):(t===null||t===void 0?void 0:t.isCurrentProject)?"".concat(ej," ").concat(eP," ").concat(em," ").concat(e):"".concat(ej," ").concat(eE," ").concat(e)}function et(e,t){return typeof e=="function"?ee(e(t),t):(typeof e==="undefined"?"undefined":g(e))=="object"&&(e===null||e===void 0?void 0:e.raw)===!0?e.cmd:typeof e=="string"?ee(e,t):e}var er=b(require("path"),1);function en(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n;return(n=er).resolve.apply(n,[ei].concat(d(t)))}function eo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n;return(n=er).join.apply(n,d(t))}var ei=G.default.env.INIT_CWD||G.default.cwd(),ea="@cyberskill/shared";var ec="node_modules",eu="dist",el="package.json",ef="package-lock.json",es="tsconfig.json",ed=".gitignore",eg=".simple-git-hooks.json",ev="pnpm-lock.yaml",ep=".git/hooks/",e_=".git/COMMIT_EDITMSG",ey=eo(ei,ec,ea,eu),eE="cyberskill",em="src/nodejs/cli/index.ts",eC="eslint",eI="eslint",eT="vitest",eO="playwright",eb="vitest",eA="@commitlint/cli",eN="commitlint",eh="lint-staged",eS="lint-staged",eD="typescript",ew="tsc",eP="tsx",eL="git",eM="pnpm",ej="pnpm exec",eG="simple-git-hooks",eR="simple-git-hooks",eq="@eslint/config-inspector",ex="eslint-config-inspector",eF="node-modules-inspector",ek="node-modules-inspector",eK={CYBERSKILL_DIRECTORY:ey,WORKING_DIRECTORY:ei,TS_CONFIG:en(es),GIT_IGNORE:en(ed),GIT_HOOK:en(ep),GIT_COMMIT_MSG:en(e_),SIMPLE_GIT_HOOKS_JSON:en(eg),PACKAGE_JSON:en(el),PACKAGE_LOCK_JSON:en(ef),PNPM_LOCK_YAML:en(ev),NODE_MODULES:en(ec),CYBERSKILL:{LINT_STAGED_CONFIG:en("".concat(ey,"/configs/lint-staged/base.js")),COMMITLINT_CONFIG:en("".concat(ey,"/configs/commitlint/base.js")),UNIT_TEST_CONFIG:en("".concat(ey,"/react/vitest/vitest.unit.js")),UNIT_TEST_SETUP_CONFIG:en("".concat(ey,"/react/vitest/vitest.unit.setup.js")),E2E_TEST_CONFIG:en("".concat(ey,"/react/vitest/vitest.e2e.js"))}};function eU(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}var o=s(r,2),i=o[0],a=o[1],c=e==="RAW"?!0:V.apply(void 0,d(i.split(" ").map(function(e){return eo(eK.NODE_MODULES,e)})));switch(e){case"PNPM_ADD_AND_EXEC":return et(Z("".concat(c?"":"".concat(eM," add ").concat(i," && ")).concat(ej," ").concat(a)));case"PNPM_ADD_DEV_AND_EXEC":return et(Z("".concat(c?"":"".concat(eM," add -D ").concat(i," && ")).concat(ej," ").concat(a)));case"RAW":return et(Z(i))}}var eY={SIMPLE_GIT_HOOKS:eU("PNPM_ADD_DEV_AND_EXEC",eG,eR),ESLINT_INSPECT:eU("PNPM_ADD_DEV_AND_EXEC",eq,ex),NODE_MODULES_INSPECT:eU("PNPM_ADD_DEV_AND_EXEC",eF,ek),ESLINT_CHECK:eU("PNPM_ADD_DEV_AND_EXEC",eC,"".concat(eI," ").concat(eK.WORKING_DIRECTORY)),ESLINT_FIX:eU("PNPM_ADD_DEV_AND_EXEC",eC,"".concat(eI," ").concat(eK.WORKING_DIRECTORY," --fix")),TYPESCRIPT_CHECK:eU("PNPM_ADD_AND_EXEC",eD,"".concat(ew," -p ").concat(eK.TS_CONFIG," --noEmit")),CONFIGURE_GIT_HOOK:eU("RAW","".concat(eL," config core.hooksPath ").concat(eK.GIT_HOOK)),BUILD:eU("RAW","".concat(eM," run build")),STAGE_BUILD_DIRECTORY:eU("RAW","".concat(eL," add ").concat(eu)),PNPM_INSTALL_STANDARD:eU("RAW","".concat(eM," install")),PNPM_INSTALL_LEGACY:eU("RAW","".concat(eM," install --legacy-peer-deps")),PNPM_INSTALL_FORCE:eU("RAW","".concat(eM," install --force")),CYBERSKILL:{TEST_UNIT:eU("PNPM_ADD_AND_EXEC",eT,"".concat(eb," --config ").concat(eK.CYBERSKILL.UNIT_TEST_CONFIG)),TEST_E2E:eU("PNPM_ADD_AND_EXEC","".concat(eT," ").concat(eO),"".concat(eb," --config ").concat(eK.CYBERSKILL.E2E_TEST_CONFIG)),COMMIT_LINT:eU("PNPM_ADD_DEV_AND_EXEC",eA,"".concat(eN," --edit ").concat(eK.GIT_COMMIT_MSG," --config ").concat(eK.CYBERSKILL.COMMITLINT_CONFIG)),LINT_STAGED:eU("PNPM_ADD_DEV_AND_EXEC",eh,"".concat(eS," --config ").concat(eK.CYBERSKILL.LINT_STAGED_CONFIG))}};function eX(e){return(0,j.defineConfig)(u({plugins:[(0,M.default)()],test:{globals:!0,environment:"jsdom",pool:"vmThreads",include:["**/*.test.unit.?(c|m)[jt]s?(x)"],setupFiles:[eK.CYBERSKILL.UNIT_TEST_SETUP_CONFIG]}},e))}function eW(e){return!!e&&(typeof e==="undefined"?"undefined":g(e))=="object"&&!Array.isArray(e)}function eB(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return t.flat().reduce(function(e,t){var r=true,n=false,o=undefined;try{for(var i=Object.entries(t)[Symbol.iterator](),a;!(r=(a=i.next()).done);r=true){var c=s(a.value,2),u=c[0],l=c[1];var f=e[u];Array.isArray(l)?e[u]=Array.from(new Set(d(Array.isArray(f)?f:[]).concat(d(l)))):eW(l)?e[u]=eB(eW(f)?f:{},l):e[u]=l}}catch(e){n=true;o=e}finally{try{if(!r&&i.return!=null){i.return()}}finally{if(n){throw o}}}return e},{})}var eH=b(require("globals"),1),eV=[{languageOptions:{globals:u({},eH.node,eH.browser)},rules:{"perfectionist/sort-imports":["error",{internalPattern:["^#.*","^@/.*"]}]},ignores:["build","dist"]}];var eJ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return eB.apply(void 0,d(t))},e$=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=eB.apply(void 0,[eV].concat(d(t))),o=n.ignores,i=l(n,["ignores"]),a=Array.isArray(o)&&o.every(function(e){return typeof e=="string"})?{ignores:o}:void 0,c=[i].concat(d(a?[a]:[]));return(0,D.default).apply(p,[{stylistic:{semi:!0,indent:4,quotes:"single"},formatters:{css:!0,html:!0,markdown:"prettier"},yaml:!1,react:!0}].concat(d(c)))},ez=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return L.apply(void 0,d(t))},eQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return eX.apply(void 0,d(t))},eZ={eslint:e$,commitlint:eJ,"lint-staged":eJ,"vitest-react-e2e":ez,"vitest-react-unit":eQ};function e0(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}var o=eZ[e];if(!o)throw new Error("Unknown config type: ".concat(e));return o.apply(void 0,d(r))}function e1(e){var t=e.uri,r=e.from,o=e.to,i=e.withComponent,a=e.withHOC,c=e.withHooks,l=e.withMutationFn,f=e.withRefetchFn,s=e.federation;var d=u({},i&&{withComponent:i},a&&{withHOC:a},c&&{withHooks:c},l&&{withMutationFn:l},f&&{withRefetchFn:f},s&&{config:{federation:!0}});return{schema:t,documents:[r],generates:n({},o,u({plugins:["typescript","typescript-operations","typescript-react-apollo"]},Object.keys(d).length>0&&{config:d})),hooks:{afterAllFileWrite:[eY.ESLINT_FIX]}}}var e2={"*":["eslint --fix"]};0&&(module.exports={E_ConfigType:E_ConfigType,commitlintConfig:commitlintConfig,createGraphqlCodegenConfig:createGraphqlCodegenConfig,eslintConfig:eslintConfig,lintStagedConfig:lintStagedConfig,mergeConfigs:mergeConfigs});