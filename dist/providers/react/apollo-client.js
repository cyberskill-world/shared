function r(r,e,n){if(e in r){Object.defineProperty(r,e,{value:n,enumerable:true,configurable:true,writable:true})}else{r[e]=n}return r}function e(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};var t=Object.keys(o);if(typeof Object.getOwnPropertySymbols==="function"){t=t.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))}t.forEach(function(n){r(e,n,o[n])})}return e}function n(r,e){if(r==null)return{};var n=o(r,e);var t,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++){t=a[i];if(e.indexOf(t)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(r,t))continue;n[t]=r[t]}}return n}function o(r,e){if(r==null)return{};var n={};var o=Object.keys(r);var t,i;for(i=0;i<o.length;i++){t=o[i];if(e.indexOf(t)>=0)continue;n[t]=r[t]}return n}import{ApolloClient as t,ApolloProvider as i,ApolloLink as a,HttpLink as l,InMemoryCache as c,split as u}from"@apollo/client";import{onError as s}from"@apollo/client/link/error";import{GraphQLWsLink as f}from"@apollo/client/link/subscriptions";import{getMainDefinition as p}from"@apollo/client/utilities";import{createClient as v}from"graphql-ws";import{jsx as m}from"react/jsx-runtime";function b(r){var o=r.uri,i=r.cache,m=i===void 0?new c:i,b=n(r,["uri","cache"]);var y=s(function(r){var e=r.graphQLErrors,n=r.networkError;e&&e.forEach(function(r){var e=r.message,n=r.locations,o=r.path;console.error("[GraphQL error]: Message: ".concat(e,", Location: ").concat(n,", Path: ").concat(o))}),n&&console.error("[Network error]: ".concat(n))}),O=new l({uri:o,credentials:"include"}),h=b.url?new f(v({url:b.url})):null,g=h?u(function(r){var e=r.query;var n=p(e),o=n.kind,t=n.operation;return o==="OperationDefinition"&&t==="subscription"},h,O):null,w=[new a(function(r,e){if(r.variables){var n=function(r,e){return r==="__typename"?void 0:e};r.variables=JSON.parse(JSON.stringify(r.variables),n)}return e(r)}),y,g||O].filter(Boolean);return new t(e({cache:m,link:a.from(w)},b))}function y(r){var e=r.options,n=r.children;return m(i,{client:b(e),children:n})}export{y as ApolloProvider};