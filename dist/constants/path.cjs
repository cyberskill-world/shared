"use strict";function n(n,t){if(t==null||t>n.length)t=n.length;for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function t(n){if(Array.isArray(n))return n}function r(t){if(Array.isArray(t))return n(t)}function e(n,t,r){if(t in n){Object.defineProperty(n,t,{value:r,enumerable:true,configurable:true,writable:true})}else{n[t]=r}return n}function o(n){if(typeof Symbol!=="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function c(n,t){var r=n==null?null:typeof Symbol!=="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r==null)return;var e=[];var o=true;var c=false;var _,I;try{for(r=r.call(n);!(o=(_=r.next()).done);o=true){e.push(_.value);if(t&&e.length===t)break}}catch(n){c=true;I=n}finally{try{if(!o&&r["return"]!=null)r["return"]()}finally{if(c)throw I}}return e}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};var o=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){o=o.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))}o.forEach(function(t){e(n,t,r[t])})}return n}function i(n,r){return t(n)||c(n,r)||C(n,r)||_()}function E(n){return r(n)||o(n)||C(n)||I()}function a(n){"@swc/helpers - typeof";return n&&typeof Symbol!=="undefined"&&n.constructor===Symbol?"symbol":typeof n}function C(t,r){if(!t)return;if(typeof t==="string")return n(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor)e=t.constructor.name;if(e==="Map"||e==="Set")return Array.from(e);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n(t,r)}var T=Object.create;var O=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var N=function(n,t){for(var r in t)O(n,r,{get:t[r],enumerable:!0})},l=function(n,t,r,e){var o=true,c=false,_=undefined;if(t&&(typeof t==="undefined"?"undefined":a(t))=="object"||typeof t=="function")try{var I=function(){var o=i.value;!A.call(n,o)&&o!==r&&O(n,o,{get:function(){return t[o]},enumerable:!(e=L(t,o))||e.enumerable})};for(var u=f(t)[Symbol.iterator](),i;!(o=(i=u.next()).done);o=true)I()}catch(n){c=true;_=n}finally{try{if(!o&&u.return!=null){u.return()}}finally{if(c){throw _}}}return n};var s=function(n,t,r){return r=n!=null?T(S(n)):{},l(t||!n||!n.__esModule?O(r,"default",{value:n,enumerable:!0}):r,n)},M=function(n){return l(O({},"__esModule",{value:!0}),n)};var G={};N(G,{BUILD_DIRECTORY:function(){return z},COMMAND:function(){return nR},COMMIT_LINT_CLI:function(){return nC},COMMIT_LINT_PACKAGE_NAME:function(){return na},CYBERSKILL_CLI:function(){return nI},CYBERSKILL_DIRECTORY:function(){return n_},CYBERSKILL_PACKAGE_NAME:function(){return X},CYBERSKILL_STORAGE:function(){return V},ESLINT_CLI:function(){return nu},ESLINT_INSPECT_CLI:function(){return nP},ESLINT_INSPECT_PACKAGE_NAME:function(){return nG},GIT_CLI:function(){return nA},GIT_COMMIT_EDITMSG:function(){return nc},GIT_HOOK:function(){return no},GIT_IGNORE:function(){return nt},HOOK:function(){return nm},LINT_STAGED_CLI:function(){return nO},LINT_STAGED_PACKAGE_NAME:function(){return nT},NODE_MODULES:function(){return $},NODE_MODULES_INSPECT_CLI:function(){return np},NODE_MODULES_INSPECT_PACKAGE_NAME:function(){return nd},PACKAGE_JSON:function(){return Q},PACKAGE_LOCK_JSON:function(){return Z},PATH:function(){return nK},PNPM_CLI:function(){return nN},PNPM_EXEC_CLI:function(){return nl},PNPM_LOCK_YAML:function(){return ne},SIMPLE_GIT_HOOKS_PACKAGE_NAME:function(){return ns},SIMPLE_GIT_HOOK_CLI:function(){return nM},SIMPLE_GIT_HOOK_JSON:function(){return nr},TSCONFIG_JSON:function(){return nn},TSC_CLI:function(){return nf},TSC_PACKAGE_NAME:function(){return nL},TSX_CLI:function(){return nS},VITEST_CLI:function(){return nE},VITEST_PACKAGE_NAME:function(){return ni},WORKING_DIRECTORY:function(){return W}});module.exports=M(G);var P=s(require("process"),1);var d=s(require("boxen"),1),p=s(require("chalk"),1),K=require("child_process"),m=s(require("process"),1),y=s(require("util"),1);var R=s(require("node-fetch"),1);var D=s(require("fs"),1);var v=s(require("path"),1);function b(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++){t[r]=arguments[r]}var e;return(e=v).resolve.apply(e,[W].concat(E(t)))}function g(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++){t[r]=arguments[r]}var e;return(e=v).join.apply(e,E(t))}var Y=s(require("node-persist"),1),h=s(require("os"),1),w=s(require("process"),1);var j=24*60*60*1e3;var B=m.default.env.DEBUG==="true",H=y.promisify(K.exec),U=p.default,x=U.gray,F=U.blue;function k(n){return{raw:!0,cmd:n}}function J(n,t){return(t===null||t===void 0?void 0:t.isRemote)?"".concat(nl," ").concat(X," ").concat(n):(t===null||t===void 0?void 0:t.isCurrentProject)?"".concat(nl," ").concat(nS," src/cli.ts ").concat(n):"".concat(nl," ").concat(nI," ").concat(n)}function q(n,t){return typeof n=="function"?J(n(t),t):(typeof n==="undefined"?"undefined":a(n))=="object"&&(n===null||n===void 0?void 0:n.raw)===!0?n.cmd:typeof n=="string"?J(n,t):n}var W=P.default.env.INIT_CWD||P.default.cwd(),X="@cyberskill/shared",V=".cyberskill-storage",$="node_modules",z="dist",Q="package.json",Z="package-lock.json",nn="tsconfig.json",nt=".gitignore",nr=".simple-git-hooks.json",ne="pnpm-lock.yaml",no=".git/hooks/",nc=".git/COMMIT_EDITMSG",n_=g(W,$,X,z),nI="cyberskill",nu="eslint",ni="vitest",nE="vitest",na="@commitlint/cli",nC="commitlint",nT="lint-staged",nO="lint-staged",nL="tsc",nf="tsc",nS="tsx",nA="git",nN="pnpm",nl="pnpm exec",ns="simple-git-hooks",nM="simple-git-hooks",nG="@eslint/config-inspector",nP="eslint-config-inspector",nd="node-modules-inspector",np="node-modules-inspector",nK={CYBERSKILL_DIRECTORY:n_,WORKING_DIRECTORY:W,TS_CONFIG:b(nn),GIT_IGNORE:b(nt),GIT_HOOK:b(no),GIT_COMMIT_MSG:b(nc),SIMPLE_GIT_HOOKS_JSON:b(nr),PACKAGE_JSON:b(Q),PACKAGE_LOCK_JSON:b(Z),PNPM_LOCK_YAML:b(ne),NODE_MODULES:b($),CYBERSKILL:{LINT_STAGED_CONFIG:b("".concat(n_,"/configs/lint-staged/base.js")),COMMITLINT_CONFIG:b("".concat(n_,"/configs/commitlint/base.js")),UNIT_TEST_CONFIG:b("".concat(n_,"/configs/vitest/react/unit.js")),E2E_TEST_CONFIG:b("".concat(n_,"/configs/vitest/react/e2e.js"))}};function nm(n){var t=n.isCurrentProject;return u({"pre-commit":nO,"commit-msg":nC},t&&{"pre-push":k("".concat(nA," pull"))})}function ny(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),e=1;e<t;e++){r[e-1]=arguments[e]}var o=i(r,2),c=o[0],_=o[1];switch(n){case"pnpmAddAndExec":return q(k("".concat(nN," add -D ").concat(c," && ").concat(nl," ").concat(_)));case"pnpmExec":return q(k("".concat(nl," ").concat(c," ").concat(_||"").trim()));case"raw":return q(k(c))}}var nR={SIMPLE_GIT_HOOKS:ny("pnpmAddAndExec",ns,nM),ESLINT_INSPECT:ny("pnpmAddAndExec",nG,nP),NODE_MODULES_INSPECT:ny("pnpmAddAndExec",nd,np),ESLINT_CHECK:ny("pnpmExec",nu,nK.WORKING_DIRECTORY),ESLINT_FIX:ny("pnpmExec",nu,"".concat(nK.WORKING_DIRECTORY," --fix")),TYPESCRIPT_CHECK:ny("pnpmAddAndExec",nL,"".concat(nf," -p ").concat(nK.TS_CONFIG," --noEmit")),CONFIGURE_GIT_HOOK:ny("raw","".concat(nA," config core.hooksPath ").concat(nK.GIT_HOOK)),BUILD:ny("raw","".concat(nN," run build")),STAGE_BUILD_DIRECTORY:ny("raw","".concat(nA," add ").concat(z)),PNPM_INSTALL_STANDARD:ny("raw","".concat(nN," install")),PNPM_INSTALL_LEGACY:ny("raw","".concat(nN," install --legacy-peer-deps")),PNPM_INSTALL_FORCE:ny("raw","".concat(nN," install --force")),CYBERSKILL:{TEST_UNIT:ny("pnpmAddAndExec",ni,"".concat(nE," --config ").concat(nK.CYBERSKILL.UNIT_TEST_CONFIG)),TEST_E2E:ny("pnpmAddAndExec",ni,"".concat(nE," --config ").concat(nK.CYBERSKILL.E2E_TEST_CONFIG)),COMMIT_LINT:ny("pnpmAddAndExec",na,"".concat(nC," --edit ").concat(nK.GIT_COMMIT_MSG," --config ").concat(nK.CYBERSKILL.COMMITLINT_CONFIG)),LINT_STAGED:ny("pnpmAddAndExec",nT,"".concat(nO," --config ").concat(nK.CYBERSKILL.LINT_STAGED_CONFIG))}};0&&(module.exports={BUILD_DIRECTORY:BUILD_DIRECTORY,COMMAND:COMMAND,COMMIT_LINT_CLI:COMMIT_LINT_CLI,COMMIT_LINT_PACKAGE_NAME:COMMIT_LINT_PACKAGE_NAME,CYBERSKILL_CLI:CYBERSKILL_CLI,CYBERSKILL_DIRECTORY:CYBERSKILL_DIRECTORY,CYBERSKILL_PACKAGE_NAME:CYBERSKILL_PACKAGE_NAME,CYBERSKILL_STORAGE:CYBERSKILL_STORAGE,ESLINT_CLI:ESLINT_CLI,ESLINT_INSPECT_CLI:ESLINT_INSPECT_CLI,ESLINT_INSPECT_PACKAGE_NAME:ESLINT_INSPECT_PACKAGE_NAME,GIT_CLI:GIT_CLI,GIT_COMMIT_EDITMSG:GIT_COMMIT_EDITMSG,GIT_HOOK:GIT_HOOK,GIT_IGNORE:GIT_IGNORE,HOOK:HOOK,LINT_STAGED_CLI:LINT_STAGED_CLI,LINT_STAGED_PACKAGE_NAME:LINT_STAGED_PACKAGE_NAME,NODE_MODULES:NODE_MODULES,NODE_MODULES_INSPECT_CLI:NODE_MODULES_INSPECT_CLI,NODE_MODULES_INSPECT_PACKAGE_NAME:NODE_MODULES_INSPECT_PACKAGE_NAME,PACKAGE_JSON:PACKAGE_JSON,PACKAGE_LOCK_JSON:PACKAGE_LOCK_JSON,PATH:PATH,PNPM_CLI:PNPM_CLI,PNPM_EXEC_CLI:PNPM_EXEC_CLI,PNPM_LOCK_YAML:PNPM_LOCK_YAML,SIMPLE_GIT_HOOKS_PACKAGE_NAME:SIMPLE_GIT_HOOKS_PACKAGE_NAME,SIMPLE_GIT_HOOK_CLI:SIMPLE_GIT_HOOK_CLI,SIMPLE_GIT_HOOK_JSON:SIMPLE_GIT_HOOK_JSON,TSCONFIG_JSON:TSCONFIG_JSON,TSC_CLI:TSC_CLI,TSC_PACKAGE_NAME:TSC_PACKAGE_NAME,TSX_CLI:TSX_CLI,VITEST_CLI:VITEST_CLI,VITEST_PACKAGE_NAME:VITEST_PACKAGE_NAME,WORKING_DIRECTORY:WORKING_DIRECTORY});