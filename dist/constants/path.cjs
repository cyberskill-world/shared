"use strict";function t(t,n){if(n==null||n>t.length)n=t.length;for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function n(t){if(Array.isArray(t))return t}function e(n){if(Array.isArray(n))return t(n)}function r(t,n,e){if(n in t){Object.defineProperty(t,n,{value:e,enumerable:true,configurable:true,writable:true})}else{t[n]=e}return t}function o(t){if(typeof Symbol!=="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c(t,n){var e=t==null?null:typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(e==null)return;var r=[];var o=true;var c=false;var _,u;try{for(e=e.call(t);!(o=(_=e.next()).done);o=true){r.push(_.value);if(n&&r.length===n)break}}catch(t){c=true;u=t}finally{try{if(!o&&e["return"]!=null)e["return"]()}finally{if(c)throw u}}return r}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};var o=Object.keys(e);if(typeof Object.getOwnPropertySymbols==="function"){o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))}o.forEach(function(n){r(t,n,e[n])})}return t}function E(t,e){return n(t)||c(t,e)||C(t,e)||_()}function i(t){return e(t)||o(t)||C(t)||u()}function I(t){"@swc/helpers - typeof";return t&&typeof Symbol!=="undefined"&&t.constructor===Symbol?"symbol":typeof t}function C(n,e){if(!n)return;if(typeof n==="string")return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor)r=n.constructor.name;if(r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(n,e)}var f=Object.create;var l=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var L=function(t,n){for(var e in n)l(t,e,{get:n[e],enumerable:!0})},S=function(t,n,e,r){var o=true,c=false,_=undefined;if(n&&(typeof n==="undefined"?"undefined":I(n))=="object"||typeof n=="function")try{var u=function(){var o=E.value;!O.call(t,o)&&o!==e&&l(t,o,{get:function(){return n[o]},enumerable:!(r=A(n,o))||r.enumerable})};for(var a=T(n)[Symbol.iterator](),E;!(o=(E=a.next()).done);o=true)u()}catch(t){c=true;_=t}finally{try{if(!o&&a.return!=null){a.return()}}finally{if(c){throw _}}}return t};var s=function(t,n,e){return e=t!=null?f(N(t)):{},S(n||!t||!t.__esModule?l(e,"default",{value:t,enumerable:!0}):e,t)},P=function(t){return S(l({},"__esModule",{value:!0}),t)};var M={};L(M,{BUILD_DIRECTORY:function(){return Z},COMMAND:function(){return tb},COMMIT_LINT_CLI:function(){return tT},COMMIT_LINT_PACKAGE_NAME:function(){return tA},CYBERSKILL_CLI:function(){return tE},CYBERSKILL_DIRECTORY:function(){return ta},CYBERSKILL_PACKAGE_NAME:function(){return $},CYBERSKILL_STORAGE:function(){return z},ESLINT_CLI:function(){return tI},ESLINT_INSPECT_CLI:function(){return tp},ESLINT_INSPECT_PACKAGE_NAME:function(){return tK},ESLINT_PACKAGE_NAME:function(){return ti},GIT_CLI:function(){return tP},GIT_COMMIT_EDITMSG:function(){return tu},GIT_HOOK:function(){return t_},GIT_IGNORE:function(){return tr},HOOK:function(){return tg},LINT_STAGED_CLI:function(){return tO},LINT_STAGED_PACKAGE_NAME:function(){return tN},NODE_MODULES:function(){return Q},NODE_MODULES_INSPECT_CLI:function(){return ty},NODE_MODULES_INSPECT_PACKAGE_NAME:function(){return tv},PACKAGE_JSON:function(){return tt},PACKAGE_LOCK_JSON:function(){return tn},PATH:function(){return tR},PLAYWRIGHT_PACKAGE_NAME:function(){return tf},PNPM_CLI:function(){return tM},PNPM_EXEC_CLI:function(){return tG},PNPM_LOCK_YAML:function(){return tc},SIMPLE_GIT_HOOKS_PACKAGE_NAME:function(){return tD},SIMPLE_GIT_HOOK_CLI:function(){return td},SIMPLE_GIT_HOOK_JSON:function(){return to},TSCONFIG_JSON:function(){return te},TSC_CLI:function(){return tS},TSC_PACKAGE_NAME:function(){return tL},TSX_CLI:function(){return ts},VITEST_CLI:function(){return tl},VITEST_PACKAGE_NAME:function(){return tC},WORKING_DIRECTORY:function(){return V}});module.exports=P(M);var G=s(require("process"),1);var D=require("child_process"),d=s(require("process"),1),K=s(require("util"),1);var p=s(require("process"),1);var v=p.default.env.DEBUG==="true";var y=s(require("chalk"),1),R=s(require("consola"),1),g=require("graphql");v||(R.default.level=4);function m(t){var n=y.default[t];return typeof n=="function"?n:y.default.green}var b={silent:R.default.silent,level:R.default.level,fatal:R.default.fatal,error:R.default.error,warn:R.default.warn,log:R.default.log,info:R.default.info,success:R.default.success,ready:R.default.ready,start:R.default.start,box:R.default.box,debug:R.default.debug,trace:R.default.trace,verbose:R.default.verbose,printBoxedLog:function t(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"red";if(!(n===null||n===void 0?void 0:n.length)){R.default.box(y.default.green(t));return}n.forEach(function(t){var n=t.file,r=t.position,o=t.rule,c=t.message;R.default.log("".concat(y.default.gray("File:")," ").concat(y.default.blue("".concat(n).concat(r?":".concat(r):"")))),o&&R.default.log("   ".concat(m(e)("Rule:")," ").concat(o)),R.default.log("   ".concat(m(e)("Message:")," ").concat(c))}),R.default.box(m(e)("".concat(t," : ").concat(n.length))),R.default.log(y.default.gray("â”€".repeat(40)))}};var Y=s(require("node-fetch"),1);var h=s(require("fs"),1);function j(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++){n[e]=arguments[e]}return n.every(function(t){return h.existsSync(t)})}var H=s(require("path"),1);function w(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++){n[e]=arguments[e]}var r;return(r=H).resolve.apply(r,[V].concat(i(n)))}function B(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++){n[e]=arguments[e]}var r;return(r=H).join.apply(r,i(n))}var U=s(require("node-persist"),1),X=s(require("os"),1),F=s(require("process"),1);var W=24*60*60*1e3;var k=K.promisify(D.exec);function q(t){return{raw:!0,cmd:t}}function J(t,n){return(n===null||n===void 0?void 0:n.isRemote)?"".concat(tG," ").concat($," ").concat(t):(n===null||n===void 0?void 0:n.isCurrentProject)?"".concat(tG," ").concat(ts," src/cli.ts ").concat(t):"".concat(tG," ").concat(tE," ").concat(t)}function x(t,n){return typeof t=="function"?J(t(n),n):(typeof t==="undefined"?"undefined":I(t))=="object"&&(t===null||t===void 0?void 0:t.raw)===!0?t.cmd:typeof t=="string"?J(t,n):t}var V=G.default.env.INIT_CWD||G.default.cwd(),$="@cyberskill/shared",z=".cyberskill-storage",Q="node_modules",Z="dist",tt="package.json",tn="package-lock.json",te="tsconfig.json",tr=".gitignore",to=".simple-git-hooks.json",tc="pnpm-lock.yaml",t_=".git/hooks/",tu=".git/COMMIT_EDITMSG",ta=B(V,Q,$,Z),tE="cyberskill",ti="eslint",tI="eslint",tC="vitest",tf="playwright",tl="vitest",tA="@commitlint/cli",tT="commitlint",tN="lint-staged",tO="lint-staged",tL="typescript",tS="tsc",ts="tsx",tP="git",tM="pnpm",tG="pnpm exec",tD="simple-git-hooks",td="simple-git-hooks",tK="@eslint/config-inspector",tp="eslint-config-inspector",tv="node-modules-inspector",ty="node-modules-inspector",tR={CYBERSKILL_DIRECTORY:ta,WORKING_DIRECTORY:V,TS_CONFIG:w(te),GIT_IGNORE:w(tr),GIT_HOOK:w(t_),GIT_COMMIT_MSG:w(tu),SIMPLE_GIT_HOOKS_JSON:w(to),PACKAGE_JSON:w(tt),PACKAGE_LOCK_JSON:w(tn),PNPM_LOCK_YAML:w(tc),NODE_MODULES:w(Q),CYBERSKILL:{LINT_STAGED_CONFIG:w("".concat(ta,"/configs/lint-staged/base.js")),COMMITLINT_CONFIG:w("".concat(ta,"/configs/commitlint/base.js")),UNIT_TEST_CONFIG:w("".concat(ta,"/configs/vitest/react/unit.js")),UNIT_TEST_SETUP_CONFIG:w("".concat(ta,"/configs/vitest/react/unit.setup.js")),E2E_TEST_CONFIG:w("".concat(ta,"/configs/vitest/react/e2e.js"))}};function tg(t){var n=t.isCurrentProject;return a({"pre-commit":tO,"commit-msg":tT},n&&{"pre-push":q("".concat(tP," pull"))})}function tm(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++){e[r-1]=arguments[r]}var o=E(e,2),c=o[0],_=o[1],u=t==="RAW"?!0:j.apply(void 0,i(c.split(" ").map(function(t){return B(tR.NODE_MODULES,t)})));switch(t){case"PNPM_ADD_AND_EXEC":return x(q("".concat(u?"":"".concat(tM," add ").concat(c," && ")).concat(tG," ").concat(_)));case"PNPM_ADD_DEV_AND_EXEC":return x(q("".concat(u?"":"".concat(tM," add -D ").concat(c," && ")).concat(tG," ").concat(_)));case"RAW":return x(q(c))}}var tb={SIMPLE_GIT_HOOKS:tm("PNPM_ADD_DEV_AND_EXEC",tD,td),ESLINT_INSPECT:tm("PNPM_ADD_DEV_AND_EXEC",tK,tp),NODE_MODULES_INSPECT:tm("PNPM_ADD_DEV_AND_EXEC",tv,ty),ESLINT_CHECK:tm("PNPM_ADD_DEV_AND_EXEC",ti,"".concat(tI," ").concat(tR.WORKING_DIRECTORY)),ESLINT_FIX:tm("PNPM_ADD_DEV_AND_EXEC",ti,"".concat(tI," ").concat(tR.WORKING_DIRECTORY," --fix")),TYPESCRIPT_CHECK:tm("PNPM_ADD_AND_EXEC",tL,"".concat(tS," -p ").concat(tR.TS_CONFIG," --noEmit")),CONFIGURE_GIT_HOOK:tm("RAW","".concat(tP," config core.hooksPath ").concat(tR.GIT_HOOK)),BUILD:tm("RAW","".concat(tM," run build")),STAGE_BUILD_DIRECTORY:tm("RAW","".concat(tP," add ").concat(Z)),PNPM_INSTALL_STANDARD:tm("RAW","".concat(tM," install")),PNPM_INSTALL_LEGACY:tm("RAW","".concat(tM," install --legacy-peer-deps")),PNPM_INSTALL_FORCE:tm("RAW","".concat(tM," install --force")),CYBERSKILL:{TEST_UNIT:tm("PNPM_ADD_AND_EXEC",tC,"".concat(tl," --config ").concat(tR.CYBERSKILL.UNIT_TEST_CONFIG)),TEST_E2E:tm("PNPM_ADD_AND_EXEC","".concat(tC," ").concat(tf),"".concat(tl," --config ").concat(tR.CYBERSKILL.E2E_TEST_CONFIG)),COMMIT_LINT:tm("PNPM_ADD_DEV_AND_EXEC",tA,"".concat(tT," --edit ").concat(tR.GIT_COMMIT_MSG," --config ").concat(tR.CYBERSKILL.COMMITLINT_CONFIG)),LINT_STAGED:tm("PNPM_ADD_DEV_AND_EXEC",tN,"".concat(tO," --config ").concat(tR.CYBERSKILL.LINT_STAGED_CONFIG))}};0&&(module.exports={BUILD_DIRECTORY:BUILD_DIRECTORY,COMMAND:COMMAND,COMMIT_LINT_CLI:COMMIT_LINT_CLI,COMMIT_LINT_PACKAGE_NAME:COMMIT_LINT_PACKAGE_NAME,CYBERSKILL_CLI:CYBERSKILL_CLI,CYBERSKILL_DIRECTORY:CYBERSKILL_DIRECTORY,CYBERSKILL_PACKAGE_NAME:CYBERSKILL_PACKAGE_NAME,CYBERSKILL_STORAGE:CYBERSKILL_STORAGE,ESLINT_CLI:ESLINT_CLI,ESLINT_INSPECT_CLI:ESLINT_INSPECT_CLI,ESLINT_INSPECT_PACKAGE_NAME:ESLINT_INSPECT_PACKAGE_NAME,ESLINT_PACKAGE_NAME:ESLINT_PACKAGE_NAME,GIT_CLI:GIT_CLI,GIT_COMMIT_EDITMSG:GIT_COMMIT_EDITMSG,GIT_HOOK:GIT_HOOK,GIT_IGNORE:GIT_IGNORE,HOOK:HOOK,LINT_STAGED_CLI:LINT_STAGED_CLI,LINT_STAGED_PACKAGE_NAME:LINT_STAGED_PACKAGE_NAME,NODE_MODULES:NODE_MODULES,NODE_MODULES_INSPECT_CLI:NODE_MODULES_INSPECT_CLI,NODE_MODULES_INSPECT_PACKAGE_NAME:NODE_MODULES_INSPECT_PACKAGE_NAME,PACKAGE_JSON:PACKAGE_JSON,PACKAGE_LOCK_JSON:PACKAGE_LOCK_JSON,PATH:PATH,PLAYWRIGHT_PACKAGE_NAME:PLAYWRIGHT_PACKAGE_NAME,PNPM_CLI:PNPM_CLI,PNPM_EXEC_CLI:PNPM_EXEC_CLI,PNPM_LOCK_YAML:PNPM_LOCK_YAML,SIMPLE_GIT_HOOKS_PACKAGE_NAME:SIMPLE_GIT_HOOKS_PACKAGE_NAME,SIMPLE_GIT_HOOK_CLI:SIMPLE_GIT_HOOK_CLI,SIMPLE_GIT_HOOK_JSON:SIMPLE_GIT_HOOK_JSON,TSCONFIG_JSON:TSCONFIG_JSON,TSC_CLI:TSC_CLI,TSC_PACKAGE_NAME:TSC_PACKAGE_NAME,TSX_CLI:TSX_CLI,VITEST_CLI:VITEST_CLI,VITEST_PACKAGE_NAME:VITEST_PACKAGE_NAME,WORKING_DIRECTORY:WORKING_DIRECTORY});